define("static/t1/dist/script/page_user",["./module_md5","./module_table","./module_swal","./module_core","./module_ajax","./module_effect","./module_utils","./module_tpl","./module_asynPage"],function(require,exports){require("./module_md5");var table=require("./module_table"),tpl=require("./module_tpl"),U=require("./module_utils"),P=require("./module_asynPage"),effect=require("./module_effect"),core=require("./module_core");function init(){$(function(){$("*[timestamp]").each(function(){var timestamp=$(this).attr("timestamp");$(this).text(new Date(1e3*timestamp).format("yyyy-MM-dd hh:mm:ss"))}),0<$("#google_blind_pop").length&&($("#google_blind_pop").find(".closePopBt").hide(),U.showGoogleBlinding()),$("#identity_auth").on("click",function(e){0<$("#google_blind_pop").length&&($("#google_blind_pop").find(".closePopBt").hide(),U.showGoogleBlinding(),U.stopDefault(e))})})}function renderByCoinCode(coin){core.list({url:BASE_PATH+"/c2c/findC2cOrders?coinCode="+coin+"&type=1"}).then(function(data){tpl.render({tplId:"#c2c_sell_tpl",renderId:"#c2c_sell_render",data:data.data})}),core.list({url:BASE_PATH+"/c2c/findC2cOrders?coinCode="+coin+"&type=2"}).then(function(data){tpl.render({tplId:"#c2c_buy_tpl",renderId:"#c2c_buy_render",data:data.data})}),core.list({url:BASE_PATH+"/c2c/findUserOrders?coinCode="+coin+"&type=2"}).then(function(data){tpl.render({tplId:"#c2c_userOrder_tpl",renderId:"#c2c_userOrder_render",data:data.data})}).then(function(){$("#c2c_userOrder_render");$("#c2c_userOrder_render tr").each(function(i){$(this).children("td").each(function(j){6==j&&$(this).on("click",function(){var id=$(this)[0].id;$.ajax({type:"POST",url:BASE_PATH+"/c2c/findC2cUserVoById",async:!0,data:{id:id},dataType:"json",success:function(result){result.success&&result.success&&(tpl.render({tplId:"#c2c_pay_tpl",renderId:"#c2c_pay_render",data:result.data}),layer.open({type:1,area:["500px","auto"],shadeClose:!0,content:$("#c2c-order-info"),success:function(){$(".c2c-order-info .gold_button").on("click",function(){window.location=BASE_PATH+"/c2c"})}}))}})})})})})}function searchCoins(){core.list({url:BASE_PATH+"/exchange/coins"}).then(function(data){tpl.render({tplId:"#base_asset_tpl",renderId:"#base_asset_render",data:data}),$.divselect("#base_asset_box",".selectInput")}),core.list({url:BASE_PATH+"/exchange/price/coins"}).then(function(data){tpl.render({tplId:"#base_asset_price_tpl",renderId:"#base_asset_price_render",data:data}),$.divselect("#quote_asset_box",".selectInput")})}exports.globalInit=function(){var userInfo=GLOBAL.user;userInfo.oldLoginTime=U.dateFormat(new Date(userInfo.oldLoginTime),"yyyy-MM-dd hh:mm:ss"),tpl.render({tplId:"#userInfoTmpl",renderId:"#userInfoRender",data:userInfo}),core.list({url:BASE_PATH+"/member/security/findBindCard"}).then(function(data){data.data?tpl.render({tplId:"#bankInfoTmpl_bind",renderId:"#bankInfoRender",data:data.data}):tpl.render({tplId:"#bankInfoTmpl_unbind",renderId:"#bankInfoRender",data:data.data})}),core.list({url:BASE_PATH+"/ex/member/user/findLogs"}).then(function(data){tpl.render({tplId:"#memberLoginTmpl",renderId:"#memberLoginRender",data:data.data})})},exports.logList=function(){init();var conf={url:BASE_PATH+"/member/log/list",columns:[{field:"state",checkbox:!0},{field:"id",class:"hidde",title:"id"},{field:"userName",title:"登录时间",sortable:!0},{field:"password",title:"ip地址",sortable:!0},{field:"status",title:"状态",sortable:!0}]};table.initTable($("#table"),conf)},exports.account=function(){function search(){var txt=$.trim($(".searchInput").val().toUpperCase());0<txt.length?($(".wrapMain h3").hide(),$(".marketsTable:eq(1)").hide(),$(".marketsTable:first tr:not('.theader'):not('.min_amt_hide')").addClass("hide").each(function(){var keyword1=$(this).find("td:eq(1)").text().toUpperCase(),keyword2=$(this).find("td:eq(2)").text().toUpperCase();(0<=keyword1.indexOf(txt)||0<=keyword2.indexOf(txt))&&$(this).removeClass("hide")})):($(".marketsTable:first tr.tr_hide").addClass("hide"),$(".marketsTable:first tr:not('.theader'):not('.tr_hide'):not('.min_amt_hide')").removeClass("hide"),$(".wrapMain h3").show(),$(".marketsTable:eq(1)").show())}$(function(){$(document).on("mouseleave",".span_inline ul,.span_tips",function(event){$(this).addClass("hide"),$(this).parents(".span_inline").find(".editCommBt").removeClass("button_gold")}),$(document).on("click",".span_inline .editCommBt",function(){var show_ul=$(".span_inline ul:visible");show_ul.parents(".span_inline").find(".editCommBt").removeClass("button_gold"),show_ul.addClass("hide"),$(".span_inline .span_tips:visible").parents(".span_inline").find(".editCommBt").removeClass("button_gold"),$(".span_inline .span_tips:visible").addClass("hide");var ul=$(this).parents(".span_inline").find("ul");0==ul.find("li").length?$(this).parents(".span_inline").find(".span_tips").removeClass("hide"):ul.removeClass("hide"),$(this).addClass("button_gold")}),$(window).bind("resize",function(){!function(_windowH){if($(document.body).height()<_windowH){var _fullScreenH=_windowH-$(".fullScreen_h").offset().top-$(".footerNavBar").height()-$(".footerBar").height()-15-30;$(".fullScreen_h").css("min-height",_fullScreenH+"px")}}($(window).height())}),$(".questionTip").hover(function(){var tip=$(this).attr("tip");layer.tips(tip,this)},function(){layer.closeAll()}),$(".hideAssetsBt").on("click",function(){$(this).toggleClass("hide");var min_amt=$(this).attr("min_amt");1==$(this).hasClass("hide")?($(this).find("span").text(Lang.show_small_amt),$(".marketsTable tr:not('.theader')").each(function(){var bal=U.unFormatcoin($(this).find("td:eq(3)").text());parseFloat(bal)<parseFloat(min_amt)&&$(this).addClass("min_amt_hide")})):($(this).find("span").text(Lang.hide_small_amt),$(".marketsTable tr.min_amt_hide").removeClass("min_amt_hide"))}),$(".disabledTip").hover(function(){layer.tips($(this).attr("notice"),this,{time:0})},function(){layer.closeAll()}),$(".searchBox input").on("compositionstart",function(){$(this).prop("comStart",!0)}).on("compositionend",function(){$(this).prop("comStart",!1)}).on("input propertychange",function(){if(1==$(this).prop("comStart"))return!1;search()}).keyup(function(event){event||(event=window.event),13!=event.keyCode&&32!=event.keyCode&&16!=event.keyCode||search()}),$(".searchBt").bind("click",function(){search()})}),core.list({url:BASE_PATH+"/ex/member/account/financeData"}).then(function(data){$("#balances").html(data.data.total),tpl.render({tplId:"#coin_tpl",renderId:"#coin_render",data:data.data.customerAccountVos})}),core.list({url:BASE_PATH+"/ex/member/account/financeUnder"}).then(function(data){tpl.render({tplId:"#coin_under_tpl",renderId:"#coin_under_render",data:data.data})})},exports.balances=500,exports.deposit=function(){function search(){var txt=$.trim($("#divSelect .recharSearch input").val().toUpperCase());""!=txt?$("#divSelect ul li:gt(0)").hide().each(function(){var keyword1=$(this).find("strong").text().toUpperCase(),keyword2=$(this).find("span.no-blinding").text().toUpperCase();(0<=keyword1.indexOf(txt)||0<=keyword2.indexOf(txt))&&$(this).show()}):$("#divSelect ul li:gt(0)").show()}jQuery.divselect=function(divselectid,inputselectid){$(divselectid+" cite").on("click",function(){if(1==$(this).hasClass("lock"))return!1;var ul=$(this).parent(divselectid).find("ul");"none"==ul.css("display")?ul.show():ul.hide()}),$(divselectid+" ul li a").click(function(){var txt=$(this).html();$(this).parents(divselectid).find("cite").html(txt);var value=$(this).attr("selectid");$(this).parents(divselectid).find(inputselectid).val(value),$(divselectid+" ul").hide()}),$("body").click(function(e){0==$(e.target).parents(divselectid).length&&$(divselectid+" ul").is(":visible")&&$(divselectid+" ul").hide()})},$(function(){$.divselect(".divSelect",".selectInput"),$(window).bind("resize",function(e){!function(_windowH){if($(document.body).height()<_windowH){var _marginBottom=_windowH-$(".rechargeWrap").offset().top-$(".rechargeWrap").height()-$(".footerNavBar").height()-$(".footerBar").height()-42-45;$(".rechargeWrap").css("margin-bottom",_marginBottom+"px")}}($(window).height())}),$(".recharSearch input").on("compositionstart",function(){$(this).prop("comStart",!0)}).on("compositionend",function(){$(this).prop("comStart",!1)}).on("input propertychange",function(){if(1==$(this).prop("comStart"))return!1;search()}).keyup(function(event){event||(event=window.event),13!=event.keyCode&&32!=event.keyCode&&16!=event.keyCode||search()})}),core.list({url:BASE_PATH+"/ex/member/account/findCoinAccount/"+$("#coin_code").val()}).then(function(data){tpl.render({tplId:"#coin_tpl",renderId:"#coin_render",data:data}),tpl.render({tplId:"#coin_address_tpl",renderId:"#coin_address_render",data:data}),function(){$(".chargeBt.QRcode").on("click",function(){var dataId=$(this).attr("dataId"),content=$("#"+dataId).text(),symbol=$("#symbol").val(),title="";title="chargeAddress"==dataId?symbol+" "+Lang.deposit_address:symbol+" "+Lang.deposit_remark,layer.open({type:1,title:title,area:["400px","auto"],shadeClose:!0,content:'<div class="popQRcodPic"><div id="popQRcodeBox" style="width:200px;hegiht:200px;margin:0 auto;"></div></div><div class="popAddress">'+content+"</div>",success:function(){$("#popQRcodeBox").qrcode({render:"canvas",width:200,height:200,text:U.toUtf8(content)})}})});var clipboard=new Clipboard(".copy[dataId='chargeAddress']",{text:function(){return $("#chargeAddress").text()}});clipboard.on("success",function(){layer.msg(Lang.copy_clipboard_success)}),clipboard.on("error",function(){layer.msg(Lang.copy_clipboard_fail)});var clipboard2=new Clipboard(".copy[dataId='memo']",{text:function(){return $("#memo").text()}});clipboard2.on("success",function(){layer.msg(Lang.copy_clipboard_success)}),clipboard2.on("error",function(){layer.msg(Lang.copy_clipboard_fail)})}(),$(".chargeBt.getAddress").on("click",function(){var code=$(this).attr("data-code");core.get({url:BASE_PATH+"/ex/member/account/findAddress/"+code}).then(function(data){null!=data.address&&($("#chargeAddress").html(data.address),$(".chargeBt.getAddress").hide())})})}),core.list({url:BASE_PATH+"/exchange/coins"}).then(function(data){tpl.render({tplId:"#coin_select_tpl",renderId:"#coin_select_render",data:data})})},exports.withdraw=function(){function search(){var txt=$.trim($("#divSelect .recharSearch input").val().toUpperCase());""!=txt?$("#divSelect ul li:gt(0)").hide().each(function(){var keyword1=$(this).find("strong").text().toUpperCase(),keyword2=$(this).find("span.no-blinding").text().toUpperCase();(0<=keyword1.indexOf(txt)||0<=keyword2.indexOf(txt))&&$(this).show()}):$("#divSelect ul li:gt(0)").show()}function init_address(){$("#addNewAddressBox").hide(),$("input[name='tag']").val(""),$("input[name='address']").val(""),$("input[name='memo']").val("");var withdraw_data=$("#cashAddressBar").data("withdraw_data"),show_memo_symbol=$("input[name='memo']").data("show_memo_symbol");$.inArray(withdraw_data.coinCode,show_memo_symbol)<0?$("input[name='memo']").parents("#withdraw-form li").addClass("hide"):$("input[name='memo']").parents("#withdraw-form li").removeClass("hide")}function init_page_data(result){$("#cashAddressBar").data("withdraw_data",result),$(".rechargeWrap .unit").text(result.coin.coinCode),$("#bal").text(U.formatcoin(U.rtrim_zero(result.account.bal))),$("#frozen_bal").text(U.formatcoin(U.rtrim_zero(result.account.freeze))),$("#available_bal").text(U.formatcoin(U.rtrim_zero(result.account.available)));var input_placeholder=$("input[name='amt']").attr("placeholder").split("：");$("input[name='amt']").attr("placeholder",input_placeholder[0]+"："+U.formatcoin(U.rtrim_zero(result.account.available))),$("input[name='amt']").val(""),$("#fee").text(U.formatcoin("0")),$("#trueamt").text(U.formatcoin("0")),$("#withdraw_min_amt").text(U.formatcoin(U.rtrim_zero(result.coin.withdrawMin))),0<U.bccomp(result.coin.noAuthWithdrawMax,0)&&0<$("#notauth_max_withdraw_amt").length?$(".not_auth_withdraw_tips").removeClass("hide"):$(".not_auth_withdraw_tips").addClass("hide"),$("#notauth_max_withdraw_amt").text(U.formatcoin(U.rtrim_zero(result.coin.noAuthWithdrawMax))),0==U.bccomp(result.coin.withdrawMax,0)?$("#withdraw_ac_max_amt").parents(".withdraw_ac_max_amt_tips").addClass("hide"):$("#withdraw_ac_max_amt").parents(".withdraw_ac_max_amt_tips").removeClass("hide"),$("#withdraw_ac_max_amt").text(U.formatcoin(U.rtrim_zero(result.coin.withdrawMax)));var html_address="";$.each(result.address,function(key,value){html_address+='<li class="address_li"><a href="javascript:void(0);" selectid="'+value.id+'">'+value.remark+" - "+value.coinAddress+'</a><span class="icon_del"></span></li>'}),$("#cashAddressBar ul li:not(.tc)").remove(),$("#cashAddressBar ul").append(html_address),$("#cashAddressBar cite").text(Lang.select_withdraw_address),$("input[name='selected_address']").val("0"),$("#cashAddressBar").removeClass("bgG"),init_address(),$(".withdraw_forbid").addClass("hide"),$(".withdraw_operation").removeClass("hide")}function calculate(){var config_data=$("#cashAddressBar").data("withdraw_data"),position=$("input[name='amt']").getCurPos(),amt=$.trim($("input[name='amt']").val().replace(/[^0-9.]/g,"")),withdraw_decimal=Number(config_data.coin.calculationLen);if(0<=amt.indexOf(".")){var amt_decimal=amt.slice(amt.indexOf(".")+1).length;withdraw_decimal<amt_decimal&&(amt=amt.substr(0,amt.length-(amt_decimal-withdraw_decimal)))}if($("input[name='amt']").val(amt).setCurPos(position,position),0==amt.length||1==isNaN(amt))return $("#fee").text(U.formatcoin("0")),$("#trueamt").text(U.formatcoin("0")),!1;amt=Number(amt),Number(config_data.coin.withdrawMin),Number(config_data.coin.withdrawMax);var base_fee_amt=Number(config_data.coin.withdrawBaseFee),fee_type=Number(config_data.coin.withdrawFeeType),fee_data=Number(config_data.coin.withdrawRate),fee=0;fee=0==fee_type?U.bcadd(base_fee_amt,fee_data):U.bcadd(base_fee_amt,U.bcmul(fee_data,amt));var trueamt=U.bcsub(amt,fee);trueamt<0&&(trueamt=0),$("#fee").text(U.formatcoin(fee)),$("#trueamt").text(U.formatcoin(trueamt))}function initDataCallback(data){var page_data=data;$(".submitBt").attr("openGoogleAuth",data.openGoogleAuth),$("#page_data").val(""),$("#cashAddressBar").data("withdraw_data",page_data),$("input[name='memo']").data("show_memo_symbol",page_data.memo),$(function(){init_page_data(data),$(window).bind("resize",function(e){!function(_windowH){if($(document.body).height()<_windowH){var _marginBottom=_windowH-$(".rechargeWrap").offset().top-$(".rechargeWrap").height()-$(".footerNavBar").height()-$(".footerBar").height()-42-45;$(".rechargeWrap").css("margin-bottom",_marginBottom+"px")}}($(window).height())}),$.divselect("#divSelect",".selectInput"),$("#divSelect ul li a").on("click",function(){$("#divSelect ul li:gt(0)").show(),$("#divSelect .recharSearch input").val("");var symbol=$(this).attr("selectid"),alert_msg=$(this).attr("alert_msg");if($("input[name='symbol']").val(symbol),$("#alert_msg").val(alert_msg),1==$("#divSelect cite").hasClass("lock"))return!1;$.ajax({type:"GET",url:"/asset/get_withdraw",async:!0,data:{symbol:symbol},dataType:"json",beforeSend:function(){$("#divSelect cite").addClass("lock")},success:function(result){if($("#divSelect cite").removeClass("lock"),0<result.code)return layer.alert(result.msg,{title:Lang.alert_title,btn:Lang.confirm_button,closeBtn:0},function(index){layer.close(index),null!=result.url&&(window.location=result.url)}),!1;init_page_data(result.data)}})}),$.divselect("#cashAddressBar",".selectInput"),$(document).on("click","#cashAddressBar .selectBt",function(){$("#cashAddressBar cite").click()}),$(document).on("click","#cashAddressBar ul li:not(.tc) a",function(){init_address(),$("#cashAddressBar").removeClass("bgG");var address_info,config_data=$("#cashAddressBar").data("withdraw_data"),address_id=$(this).attr("selectid");config_data.address.forEach(function(e,index){e.id==address_id&&(address_info=e)}),$("input[name='tag']").val(address_info.remark),$("input[name='address']").val(address_info.coinAddress),$("input[name='memo']").val(address_info.memo),$("#addNewAddressBox").show()}),$(document).on("click","#cashAddressBar .addAddressBt",function(){init_address(),$("#cashAddressBar ul").toggle(),$("#addNewAddressBox").show(),$("#cashAddressBar cite").text(Lang.input_withdraw_address),$("#cashAddressBar").addClass("bgG"),$("#cashAddressBar .selectInput").val("0")}),$("#all_withdraw").on("click",function(){var available_bal=U.unFormatcoin($("#available_bal").text());$("input[name='amt']").val(available_bal),calculate()}),$(document).on("click",".address_li .icon_del",function(){var li=$(this).parents(".address_li"),id=li.find("a").attr("selectid");if(1==li.hasClass("lock"))return!1;$.ajax({type:"POST",url:"/withdraw/del_address",async:!0,data:{id:id,_token:$("meta[name='csrf-token']").attr("content")},dataType:"json",beforeSend:function(){li.addClass("lock")},success:function(result){if(li.removeClass("lock"),0<result.code)return layer.alert(result.msg,{title:Lang.alert_title,btn:Lang.confirm_button,closeBtn:0},function(index){layer.close(index),null!=result.url&&(window.location=result.url)}),!1;li.remove()}})}),$("form#withdraw-form .submitBt").on("click",function(){var bool=function(){var form=$("form#withdraw-form");if(1==form.hasClass("lock"))return!1;if(0==form.find("#addNewAddressBox").is(":visible"))return!1;var tag=form.find("input[name='tag']").val(),address=form.find("input[name='address']").val();if(0==tag.length)return layer.tips(Lang.tag_no_empty,"form#withdraw-form input[name='tag']",{time:2e3}),!1;if(0==address.length)return layer.tips(Lang.address_no_empty,"form#withdraw-form input[name='address']",{time:2e3}),!1;var amt=$.trim(form.find("input[name='amt']").val());if(0==amt.length)return layer.tips(Lang.input_amt,"form#withdraw-form input[name='amt']",{tips:1,time:2e3}),!1;if(amt<0)return layer.tips(Lang.input_amt_error,"form#withdraw-form input[name='amt']",{tips:1,time:2e3}),!1;if(1==isNaN(amt))return layer.tips(Lang.input_right_amt,"form#withdraw-form input[name='amt']",{tips:1,time:2e3}),!1;var config_data=$("#cashAddressBar").data("withdraw_data"),min_amt=Number(config_data.coin.withdrawMin),max_amt=Number(config_data.coin.withdrawMax),base_fee_amt=Number(config_data.coin.withdrawBaseFee),fee_type=Number(config_data.coin.withdrawFeeType),fee_data=Number(config_data.coin.withdrawRate),withdraw_decimal=Number(config_data.coin.calculationLen),notauth_max_withdraw_amt=Number(config_data.coin.noAuthWithdrawMax);if(0<=amt.indexOf(".")){var amt_decimal=amt.slice(amt.indexOf(".")+1).length;withdraw_decimal<amt_decimal&&(amt=amt.substr(0,amt.length-(amt_decimal-withdraw_decimal)))}var fee=0;if(fee=0==fee_type?U.bcadd(base_fee_amt,fee_data):U.bcadd(base_fee_amt,U.bcmul(fee_data,amt)),U.bcsub(amt,fee)<0)return layer.tips(Lang.noAuthWithdrawMax,"form#withdraw-form input[name='amt']",{tips:1,time:2e3}),!1;if(0<U.bccomp(amt,config_data.account.available))return layer.tips(Lang.input_right_amt,"form#withdraw-form input[name='amt']",{tips:1,time:2e3}),!1;if(0<U.bccomp(min_amt,amt)){var tips=Lang.withdraw_no_reach_min;return layer.tips(tips,"form#withdraw-form input[name='amt']",{tips:1,time:2e3}),!1}return 0<U.bccomp(notauth_max_withdraw_amt,0)&&0<$("#notauth_max_withdraw_amt").length&&U.bccomp(notauth_max_withdraw_amt,amt)<0?(layer.tips(Lang.not_auth_withdraw_beyond_limit,"form#withdraw-form input[name='amt']",{tips:1,time:2e3}),!1):!(U.bccomp(max_amt,amt)<0&&(layer.tips(Lang.withdraw_beyond_limit,"form#withdraw-form input[name='amt']",{tips:1,time:2e3}),1))}();if(0==$(this).attr("openGoogleAuth"))return!(window.location.href="/ex/member/user");1==bool&&layer.open({type:1,title:Lang.google_verify,area:["400px","auto"],shadeClose:!0,content:$("#googleVerifyPop"),success:function(){$("#googleVerifyPop .google_input").val("").focus();var click_submit=function(){var form,code=$.trim($("#googleVerifyPop .google_input").val());return 0<code.length&&($("#withdraw-form input[name='valid_code']").val(code),1!=$("form#withdraw-form").hasClass("lock")&&void(1!=(form=$("form#withdraw-form")).hasClass("lock")&&$.ajax({type:"POST",url:"/ex/member/account/withdrawOrder",async:!0,data:$("form#withdraw-form").serialize(),dataType:"json",beforeSend:function(){form.addClass("lock")},success:function(result){return $(".gold_button").removeClass("click"),form.removeClass("lock"),result.success?window.location=BASE_PATH+"/ex/member/account/money_info?type=2":layer.alert(result.msg,{title:Lang.alert_title,btn:Lang.confirm_button,closeBtn:0},function(index){layer.close(index),null!=result.url&&(window.location=result.url)}),!1}})))};$(".googleVerify .gold_button").on("click",function(){$(this).hasClass("click")||(click_submit(),$(this).addClass("click"))})}})}),$(".recharSearch input").on("compositionstart",function(){$(this).prop("comStart",!0)}).on("compositionend",function(){$(this).prop("comStart",!1)}).on("input propertychange",function(){if(1==$(this).prop("comStart"))return!1;search()}).keyup(function(event){event||(event=window.event),13!=event.keyCode&&32!=event.keyCode&&16!=event.keyCode||search()}),$(document).on("click","#withdraw_success_pop .closePopBt",function(){layer.closeAll(),window.location.reload(!0)})}),$("input[name='amt']").bind("input propertychange",function(){calculate()}),$("input[name='amt']").bind("input oninput",function(){calculate()})}jQuery.divselect=function(divselectid,inputselectid){$(document).on("click",divselectid+" cite",function(){if(1==$(this).hasClass("lock"))return!1;var ul=$(this).parent(divselectid).find("ul");"none"==ul.css("display")?ul.show():ul.hide()}),$(document).on("click",divselectid+" ul li a",function(){var txt=$(this).html();$(this).parents(divselectid).find("cite").html(txt);var value=$(this).attr("selectid");$(this).parents(divselectid).find(inputselectid).val(value),$(divselectid+" ul").hide()}),$(document).on("click","body",function(e){0==$(e.target).parents(divselectid).length&&$(divselectid+" ul").is(":visible")&&$(divselectid+" ul").hide()})},core.list({url:BASE_PATH+"/ex/member/account/findWithdrawData/"+$("#coin_code").val()}).then(function(data){tpl.render({tplId:"#coin_tpl",renderId:"#coin_render",data:data}),tpl.render({tplId:"#coin_address_tpl",renderId:"#coin_address_render",data:data}),initDataCallback(data)}),core.list({url:BASE_PATH+"/exchange/coins"}).then(function(data){tpl.render({tplId:"#coin_select_tpl",renderId:"#coin_select_render",data:data})})},exports.moneyInfo=function(){$(function(){$(window).bind("resize",function(e){!function(_windowH){if($(document.body).height()<_windowH){var _fullScreenH=_windowH-$(".fullScreen_h").offset().top-$(".footerNavBar").height()-$(".footerBar").height()-15-30;$(".fullScreen_h").css("min-height",_fullScreenH+"px")}}($(window).height())}),$("*[timestamp]").each(function(){var timestamp=$(this).attr("timestamp");$(this).text(new Date(1e3*timestamp).format("yyyy-MM-dd hh:mm:ss"))});var obj=$(".t_menu");obj.addClass("lock"),core.list({url:BASE_PATH+"/ex/member/account/rechargeInfo"}).then(function(data){obj.removeClass("lock"),tpl.render({tplId:"#marketsTable_tpl",renderId:"#marketsTable_render",data:data.data})}),$(".tabs").each(function(){var it=$(this),menus=$(".t_menu li",it);$(".t_cont",it),menus.on("click",function(){if(1==obj.hasClass("lock"))return!1;var _this=$(this);_this.index(),_this.addClass("cur").siblings().removeClass("cur");var type=$(".t_menu li.cur").attr("type");obj.addClass("lock"),core.list({url:BASE_PATH+{1:"/ex/member/account/rechargeInfo",2:"/ex/member/account/withdrawInfo"}[type]}).then(function(data){obj.removeClass("lock"),tpl.render({tplId:"#marketsTable_tpl",renderId:"#marketsTable_render",data:data.data})})})}),$(document).on("click",".fold .arrBt",function(){$(this).parents("tr").find(".fold_detail,.fold").toggleClass("open")}),$(document).on("click",".page a",function(e){stopDefault(e);var obj=$(".t_menu");if(1==obj.hasClass("lock"))return!1;var url=$(this).attr("href");$.ajax({type:"GET",url:url,async:!0,dataType:"html",beforeSend:function(){obj.addClass("lock")},success:function(html){if(obj.removeClass("lock"),1==isJson(html)){var result=$.parseJSON(html);if(0<result.code)return layer.alert(result.msg,{title:Lang.alert_title,btn:Lang.confirm_button,closeBtn:0},function(index){layer.close(index),null!=result.url&&(window.location=result.url)}),!1}var obj_html=$(html);obj_html.find("*[timestamp]").each(function(){var timestamp=$(this).attr("timestamp");$(this).text(new Date(1e3*timestamp).format("yyyy-MM-dd hh:mm:ss"))}),$(".marketsTableBox").empty().html(obj_html)}})})})},exports.c2c=function(){core.list({url:BASE_PATH+"/c2c/findProducts"}).then(function(data){if(tpl.render({tplId:"#c2c_product_tpl",renderId:"#c2c_product_render",data:data.data}),0<data.data.length){var product=data.data[0];tpl.render({tplId:"#c2c_productInfo_tpl",renderId:"#c2c_productInfo_render",data:product})}}).then(function(data){var obj;renderByCoinCode($(".t_menu li.cur").attr("type")),obj=$(".t_menu"),$(".tabs").each(function(){var it=$(this),menus=$(".t_menu li",it);$(".t_cont",it),menus.on("click",function(){if(1==obj.hasClass("lock"))return!1;var _this=$(this);_this.index(),_this.addClass("cur").siblings().removeClass("cur");var type=$(".t_menu li.cur").attr("type");core.list({url:BASE_PATH+"/c2c/findProduct?coinCode="+type}).then(function(data0){tpl.render({tplId:"#c2c_productInfo_tpl",renderId:"#c2c_productInfo_render",data:data0.data})}),renderByCoinCode(type)}),$(document).on("click","#buy-submit",function(){var coinCode=$(".t_menu li.cur").attr("type"),number=$("#buy_vol").val();$.ajax({type:"POST",url:BASE_PATH+"/c2c/transactionC2c",async:!0,data:{coinCode:coinCode,type:"buy",number:number},dataType:"json",beforeSend:function(){$("#buy-submit").addClass("lock")},success:function(result){$("#buy-submit").removeClass("lock"),result.success&&(tpl.render({tplId:"#c2c_pay_tpl",renderId:"#c2c_pay_render",data:result.data}),layer.open({type:1,area:["500px","auto"],shadeClose:!0,content:$("#c2c-order-info"),success:function(){$(".c2c-order-info .gold_button").on("click",function(){window.location=BASE_PATH+"/c2c"})}})),U.response(result)}})}),$(document).on("click","#sell-submit",function(){var coinCode=$(".t_menu li.cur").attr("type"),number=$("#sell_vol").val();$.ajax({type:"POST",url:BASE_PATH+"/c2c/transactionC2c",async:!0,data:{coinCode:coinCode,type:"sell",number:number},dataType:"json",beforeSend:function(){$("#buy-submit").addClass("lock")},success:function(result){$("#buy-submit").removeClass("lock"),U.response(result),result.success&&$(".sell_numberClass").val(0)}})})}),$(".buy_numberClass").keyup(function(){try{var eachPrice=parseFloat($("#buy_price").val()),num=parseFloat(this.value),total=eachPrice*num;total=total.toFixed(2),$("#buy_total_price").text(total)}catch(e){}}),$(".sell_numberClass").keyup(function(){try{var eachPrice=parseFloat($("#sell_price").val()),num=parseFloat(this.value),total=eachPrice*num;total=total.toFixed(2),$("#sell_total_price").text(total)}catch(e){}})})},exports.entrust=function(){var pageSize=10;function cancel(){$("#entrust_render tr").each(function(i){$(this).find("td").find("a").on("click",function(){var id=$(this)[0].id,coinPair=$(this).parent().parent().find("td").eq(2).text();$.ajax({type:"POST",url:BASE_PATH+"/exchange/trade/cancel",async:!0,data:{orderId:id,coinPair:coinPair},dataType:"json",success:function(result){U.sleep(800),U.response(result),P.page(1,pageSize,"/ex/member/account/entrustList","entrust_tpl","entrust_render",cancel)}})})})}$(function(){$(window).bind("resize",function(e){!function(_windowH){if($(document.body).height()<_windowH){var _fullScreenH=_windowH-$(".fullScreen_h").offset().top-$(".footerNavBar").height()-$(".footerBar").height()-15-30;$(".fullScreen_h").css("min-height",_fullScreenH+"px")}}($(window).height())}),$("*[timestamp]").each(function(){var timestamp=$(this).attr("timestamp");$(this).text(new Date(1e3*timestamp).format("yyyy-MM-dd hh:mm:ss"))}),$(".marketsTableBox").show(),P.page(1,pageSize,"/ex/member/account/entrustList","entrust_tpl","entrust_render",cancel),$(document).on("click",".revokeAll",function(){if(0==$("#entrust_render .no-data-tr").length)return!1;layer.open({id:"revokeAll",type:1,title:!1,shadeClose:!0,closeBtn:0,scrollbar:!1,shade:.8,area:"560px",shadeClose:!1,content:$("#popBox")})}),$(document).on("click","#popBox .bt1,#popBox .closePopBt",function(){layer.close(layer.index)}),$(document).on("click","#popBox .bt2",function(){var obj;layer.close(layer.index),obj=this,1!=$(obj).hasClass("lock")&&$.ajax({type:"POST",url:"/exchange/trade/cancelAll",async:!0,beforeSend:function(){$(obj).addClass("lock")},success:function(result){$(obj).removeClass("lock"),U.response(result),P.page(1,pageSize,"/ex/member/account/entrustList","entrust_tpl","entrust_render")}})}),$.divselect("#base_asset_box",".selectInput"),$.divselect("#quote_asset_box",".selectInput"),$.divselect("#side_box",".selectInput"),$(document).on("click","#search_form .searchBt",function(){var obj=$(this);if(1==obj.hasClass("lock"))return!1;var url=$("#search_form").attr("action"),form_data=$("#search_form").serializeJson();0==U.is_null(form_data.start_date)&&0<form_data.start_date.length&&(form_data.start_time=new Date(form_data.start_date.replace(/-/g,"/")+" 00:00:00").getTime()/1e3),0==U.is_null(form_data.end_date)&&0<form_data.end_date.length&&(form_data.end_time=new Date(form_data.end_date.replace(/-/g,"/")+" 23:59:59").getTime()/1e3),delete form_data.start_date,delete form_data.end_date,$.ajax({type:"GET",url:url,async:!0,data:form_data,dataType:"html",beforeSend:function(){obj.addClass("lock")},success:function(html){if(obj.removeClass("lock"),1==isJson(html)){var result=$.parseJSON(html);if(0<result.code)return layer.alert(result.msg,{title:Lang.alert_title,btn:Lang.confirm_button,closeBtn:0},function(index){layer.close(index),null!=result.url&&(window.location=result.url)}),!1}var obj_html=$(html);obj_html.find("*[timestamp]").each(function(){var timestamp=$(this).attr("timestamp");$(this).text(new Date(1e3*timestamp).format("yyyy-MM-dd hh:mm:ss"))}),$(".marketsTableBox").empty().html(obj_html)}})}),$(document).on("click","#search_form .trigger_submit",function(){$("#search_form .searchBt").click()}),$(document).on("click","#search_form .resetBt",function(){if($(".inputIcoCalendar").val(""),$("#end_date").val((new Date).format("yyyy-MM-dd")),0<$("#base_asset_box").length){var quote_asset=$("#quote_asset_box").find("a[selectid='']").text();$("#base_asset_box").find("cite input").val(""),$("#quote_asset_box").find("cite").text(quote_asset),$("#quote_asset_box").find(".selectInput").val("")}if(0<$("#side_box").length){var side=$("#side_box").find("a[selectid='0']").text();$("#side_box").find("cite").text(side),$("#side_box").find(".selectInput").val("0"),$("input.trigger_submit").prop("checked",!1)}$("#search_form .searchBt").click()})}),jQuery.divselect=function(divselectid,inputselectid){$(divselectid+" cite").on("click",function(){var ul=$(this).parent(divselectid).find("ul");"none"==ul.css("display")?ul.show():ul.hide()});var select_search=function(obj){var ul=$(obj).parents(divselectid).find("ul");ul.show();var txt=$.trim($(obj).val().toUpperCase());0<txt.length?ul.find("li").hide().each(function(){0<=$(this).text().toUpperCase().indexOf(txt)&&$(this).show()}):ul.find("li").show()};$(divselectid+" cite input").on("compositionstart",function(){$(this).prop("comStart",!0)}).on("compositionend",function(){$(this).prop("comStart",!1)}).on("input propertychange",function(){if(1==$(this).prop("comStart"))return!1;select_search(this)}).keyup(function(event){event||(event=window.event),13!=event.keyCode&&32!=event.keyCode&&16!=event.keyCode||select_search(this)}),$(divselectid+" ul li a").click(function(){var txt=$(this).html();0==$(this).parents(divselectid).find("cite input").length&&$(this).parents(divselectid).find("cite").html(txt);var value=$(this).attr("selectid");$(this).parents(divselectid).find(inputselectid).val(value),$(divselectid+" ul").hide(),$(divselectid+" ul li").show()}),$("body").click(function(e){0==$(e.target).parents(divselectid).length&&$(divselectid+" ul").is(":visible")&&($(divselectid+" ul").hide(),$(divselectid+" ul li").show())})}},exports.historyEntrust=function(){$(function(){$(window).bind("resize",function(e){!function(_windowH){if($(document.body).height()<_windowH){var _fullScreenH=_windowH-$(".fullScreen_h").offset().top-$(".footerNavBar").height()-$(".footerBar").height()-15-30;$(".fullScreen_h").css("min-height",_fullScreenH+"px")}}($(window).height())}),$("*[timestamp]").each(function(){var timestamp=$(this).attr("timestamp");$(this).text(new Date(1e3*timestamp).format("yyyy-MM-dd hh:mm:ss"))}),$(".marketsTableBox").show();var formDate0=$("#search_form").serializeJson();P.page(1,10,"/ex/member/account/history_entrustList","entrust_history_tpl","entrust_history_render","",formDate0),searchCoins(),$(document).on("click",".white",function(){var formDate=$("#search_form").serializeJson();P.page(1,10,"/ex/member/account/history_entrustList","entrust_history_tpl","entrust_history_render","",formDate)}),$(document).on("click",".trigger_submit",function(){var formDate=$("#search_form").serializeJson();P.page(1,10,"/ex/member/account/history_entrustList","entrust_history_tpl","entrust_history_render","",formDate)}),$(document).on("click",".revokeAll",function(){if(0==$(".marketsTable tr:not(.theader):not(.no-data-tr)").length)return!1;layer.open({id:"revokeAll",type:1,title:!1,shadeClose:!0,closeBtn:0,scrollbar:!1,shade:.8,area:"560px",shadeClose:!1,content:$("#popBox")})}),$(document).on("click","#popBox .bt1,#popBox .closePopBt",function(){layer.close(layer.index)}),$(document).on("click","#popBox .bt2",function(){var obj,order_id;layer.close(layer.index),obj=this,order_id="0",1!=$(obj).hasClass("lock")&&$.ajax({type:"POST",url:"/entrust/cancel",async:!0,data:{order_id:order_id,_token:$("meta[name='csrf-token']").attr("content")},dataType:"json",beforeSend:function(){$(obj).addClass("lock")},success:function(result){if($(obj).removeClass("lock"),0<result.code)return layer.alert(result.msg,{title:Lang.alert_title,btn:Lang.confirm_button,closeBtn:0},function(index){layer.close(index),null!=result.url&&(window.location=result.url)}),!1;layer.msg(Lang.cancel_success,{anim:5,time:2e3},function(){"0"==order_id?window.location.reload(!0):function(){if(0==$(".page .active").length)return window.location.reload(!0);var p=$(".page .active").text(),url=$(".page a:first").attr("href");url=(url=url.replace(/\?p=(\d)/,"?p="+p)).replace(/&p=(\d)/,"&p="+p),$.ajax({type:"GET",url:url,async:!0,dataType:"html",success:function(html){if(1==isJson(html)){var result=$.parseJSON(html);if(0<result.code)return layer.alert(result.msg,{title:Lang.alert_title,btn:Lang.confirm_button,closeBtn:0},function(index){layer.close(index),null!=result.url&&(window.location=result.url)}),!1}$(".marketsTableBox").empty().html(html)}})}()})}})}),$(document).on("click",".page a",function(e){stopDefault(e);var obj=$(".page");if(1==obj.hasClass("lock"))return!1;var url=$(this).attr("href");$.ajax({type:"GET",url:url,async:!0,dataType:"html",beforeSend:function(){obj.addClass("lock")},success:function(html){if(obj.removeClass("lock"),1==isJson(html)){var result=$.parseJSON(html);if(0<result.code)return layer.alert(result.msg,{title:Lang.alert_title,btn:Lang.confirm_button,closeBtn:0},function(index){layer.close(index),null!=result.url&&(window.location=result.url)}),!1}var obj_html=$(html);obj_html.find("*[timestamp]").each(function(){var timestamp=$(this).attr("timestamp");$(this).text(new Date(1e3*timestamp).format("yyyy-MM-dd hh:mm:ss"))}),$(".marketsTableBox").empty().html(obj_html)}})}),$.divselect("#side_box",".selectInput"),$(document).on("click","#search_form .searchBt",function(){var obj=$(this);if(1==obj.hasClass("lock"))return!1;var url=$("#search_form").attr("action"),form_data=$("#search_form").serializeJson();0==U.is_null(form_data.start_date)&&0<form_data.start_date.length&&(form_data.start_time=new Date(form_data.start_date.replace(/-/g,"/")+" 00:00:00").getTime()/1e3),0==U.is_null(form_data.end_date)&&0<form_data.end_date.length&&(form_data.end_time=new Date(form_data.end_date.replace(/-/g,"/")+" 23:59:59").getTime()/1e3),delete form_data.start_date,delete form_data.end_date,$.ajax({type:"GET",url:url,async:!0,data:form_data,dataType:"html",beforeSend:function(){obj.addClass("lock")},success:function(html){if(obj.removeClass("lock"),1==isJson(html)){var result=$.parseJSON(html);if(0<result.code)return layer.alert(result.msg,{title:Lang.alert_title,btn:Lang.confirm_button,closeBtn:0},function(index){layer.close(index),null!=result.url&&(window.location=result.url)}),!1}var obj_html=$(html);obj_html.find("*[timestamp]").each(function(){var timestamp=$(this).attr("timestamp");$(this).text(new Date(1e3*timestamp).format("yyyy-MM-dd hh:mm:ss"))}),$(".marketsTableBox").empty().html(obj_html)}})}),$(document).on("click","#search_form .trigger_submit",function(){$("#search_form .searchBt").click()}),$(document).on("click","#search_form .resetBt",function(){if($(".inputIcoCalendar").val(""),$("#end_date").val((new Date).format("yyyy-MM-dd")),0<$("#base_asset_box").length){var quote_asset=$("#quote_asset_box").find("a[selectid='']").text();$("#base_asset_box").find("cite input").val(""),$("#quote_asset_box").find("cite").text(quote_asset),$("#quote_asset_box").find(".selectInput").val("")}if(0<$("#side_box").length){var side=$("#side_box").find("a[selectid='0']").text();$("#side_box").find("cite").text(side),$("#side_box").find(".selectInput").val("0"),$("input.trigger_submit").prop("checked",!1)}$("#search_form .searchBt").click()})}),jQuery.divselect=function(divselectid,inputselectid){$(divselectid+" cite").on("click",function(){var ul=$(this).parent(divselectid).find("ul");"none"==ul.css("display")?ul.show():ul.hide()});var select_search=function(obj){var ul=$(obj).parents(divselectid).find("ul");ul.show();var txt=$.trim($(obj).val().toUpperCase());0<txt.length?ul.find("li").hide().each(function(){0<=$(this).text().toUpperCase().indexOf(txt)&&$(this).show()}):ul.find("li").show()};$(divselectid+" cite input").on("compositionstart",function(){$(this).prop("comStart",!0)}).on("compositionend",function(){$(this).prop("comStart",!1)}).on("input propertychange",function(){if(1==$(this).prop("comStart"))return!1;select_search(this)}).keyup(function(event){event||(event=window.event),13!=event.keyCode&&32!=event.keyCode&&16!=event.keyCode||select_search(this)}),$(divselectid+" ul li a").click(function(){var txt=$(this).html();0==$(this).parents(divselectid).find("cite input").length&&$(this).parents(divselectid).find("cite").html(txt);var value=$(this).attr("selectid");$(this).parents(divselectid).find(inputselectid).val(value),$(divselectid+" ul").hide(),$(divselectid+" ul li").show()}),$("body").click(function(e){0==$(e.target).parents(divselectid).length&&$(divselectid+" ul").is(":visible")&&($(divselectid+" ul").hide(),$(divselectid+" ul li").show())})},$(function(){var date_lang="cn";0==$("#languageBt").hasClass("cn")&&(date_lang="en"),laydate.render({elem:"#start_date",lang:date_lang,max:(new Date).format("yyyy-MM-dd"),done:function(value){var end_date=$("#end_date").val();if(0<end_date.length&&-1==U.compare_date(value,end_date))return $("#start_date").val(""),!1}}),laydate.render({elem:"#end_date",lang:date_lang,max:(new Date).format("yyyy-MM-dd"),done:function(value){var start_date=$("#start_date").val();if(0<start_date.length&&-1==U.compare_date(start_date,value))return $("#end_date").val(""),!1}})})},exports.historyTrade=function(){$(function(){var date_lang="cn";0==$("#languageBt").hasClass("cn")&&(date_lang="en"),laydate.render({elem:"#start_date",lang:date_lang,max:(new Date).format("yyyy-MM-dd"),done:function(value){var end_date=$("#end_date").val();if(0<end_date.length&&-1==U.compare_date(value,end_date))return $("#start_date").val(""),!1}}),laydate.render({elem:"#end_date",lang:date_lang,max:(new Date).format("yyyy-MM-dd"),done:function(value){var start_date=$("#start_date").val();if(0<start_date.length&&-1==U.compare_date(start_date,value))return $("#end_date").val(""),!1}}),$(".marketsTableBox").show();var formDate0=$("#search_form").serializeJson();P.page(1,10,"/ex/member/account/history_tradeList","trade_history_tpl","trade_history_render","",formDate0),searchCoins(),$(document).on("click",".white",function(){var formDate=$("#search_form").serializeJson();P.page(1,10,"/ex/member/account/history_tradeList","trade_history_tpl","trade_history_render","",formDate)}),jQuery.divselect=function(divselectid,inputselectid){$(divselectid+" cite").on("click",function(){$(this).parent(divselectid).find("ul").show()});var select_search=function(obj){var ul=$(obj).parents(divselectid).find("ul");ul.show();var txt=$.trim($(obj).val().toUpperCase());0<txt.length?ul.find("li").hide().each(function(){0<=$(this).text().toUpperCase().indexOf(txt)&&$(this).show()}):ul.find("li").show()};$(divselectid+" cite input").on("compositionstart",function(){$(this).prop("comStart",!0)}).on("compositionend",function(){$(this).prop("comStart",!1)}).on("input propertychange",function(){if(1==$(this).prop("comStart"))return!1;select_search(this)}).keyup(function(event){event||(event=window.event),13!=event.keyCode&&32!=event.keyCode&&16!=event.keyCode||select_search(this)}),$(divselectid+" ul li a").click(function(){var txt=$(this).html();0==$(this).parents(divselectid).find("cite input").length&&$(this).parents(divselectid).find("cite").html(txt);var value=$(this).attr("selectid");$(this).parents(divselectid).find(inputselectid).val(value),$(divselectid+" ul").hide(),$(divselectid+" ul li").show()}),$("body").click(function(e){0==$(e.target).parents(divselectid).length&&$(divselectid+" ul").is(":visible")&&($(divselectid+" ul").hide(),$(divselectid+" ul li").show())})}})},exports.init=init,exports.bindCard=function(){core.list({url:BASE_PATH+"/system/type/appDictionary/findByKey/root_bank"}).then(function(data){tpl.render({tplId:"#bank_tpl",renderId:"#bankName",data:data[0].children}),effect.divSelect("bankName")}),$("#bindCard_button").click(function(){var bankName=$("#bankName").val(),bankCard=$("#bankCard").val();if(U.isNotEmpty(bankName)&&U.isNotEmpty(bankCard));else{if(!U.isNotEmpty(bankName))return $("#error").show(),$("#error_show").html(Lang.input_cant_empty),$("#bankName").addClass("error"),!1;if(!U.isNotEmpty(bankCard))return $("#error").show(),$("#error_show").html(Lang.input_cant_empty),$("#bankCard").addClass("error"),!1}var data=$("#form").serializeArray(),_data=[];$.each(data,function(i,field){"confirm_password"!=field.name&&("password"!=field.name&&"oldPassword"!=field.name?_data.push(field):_data.push({name:field.name,value:field.value}))}),$.post("/member/security/addBankCard",_data,function(data){data.success&&(data.url="/ex/member/user"),U.response(data)})})}}),function($){"use strict";function safe_add(x,y){var lsw=(65535&x)+(65535&y);return(x>>16)+(y>>16)+(lsw>>16)<<16|65535&lsw}function md5_cmn(q,a,b,x,s,t){return safe_add((num=safe_add(safe_add(a,q),safe_add(x,t)))<<(cnt=s)|num>>>32-cnt,b);var num,cnt}function md5_ff(a,b,c,d,x,s,t){return md5_cmn(b&c|~b&d,a,b,x,s,t)}function md5_gg(a,b,c,d,x,s,t){return md5_cmn(b&d|c&~d,a,b,x,s,t)}function md5_hh(a,b,c,d,x,s,t){return md5_cmn(b^c^d,a,b,x,s,t)}function md5_ii(a,b,c,d,x,s,t){return md5_cmn(c^(b|~d),a,b,x,s,t)}function binl_md5(x,len){x[len>>5]|=128<<len%32,x[14+(len+64>>>9<<4)]=len;var i,olda,oldb,oldc,oldd,a=1732584193,b=-271733879,c=-1732584194,d=271733878;for(i=0;i<x.length;i+=16)b=md5_ii(b=md5_ii(b=md5_ii(b=md5_ii(b=md5_hh(b=md5_hh(b=md5_hh(b=md5_hh(b=md5_gg(b=md5_gg(b=md5_gg(b=md5_gg(b=md5_ff(b=md5_ff(b=md5_ff(b=md5_ff(oldb=b,c=md5_ff(oldc=c,d=md5_ff(oldd=d,a=md5_ff(olda=a,b,c,d,x[i],7,-680876936),b,c,x[i+1],12,-389564586),a,b,x[i+2],17,606105819),d,a,x[i+3],22,-1044525330),c=md5_ff(c,d=md5_ff(d,a=md5_ff(a,b,c,d,x[i+4],7,-176418897),b,c,x[i+5],12,1200080426),a,b,x[i+6],17,-1473231341),d,a,x[i+7],22,-45705983),c=md5_ff(c,d=md5_ff(d,a=md5_ff(a,b,c,d,x[i+8],7,1770035416),b,c,x[i+9],12,-1958414417),a,b,x[i+10],17,-42063),d,a,x[i+11],22,-1990404162),c=md5_ff(c,d=md5_ff(d,a=md5_ff(a,b,c,d,x[i+12],7,1804603682),b,c,x[i+13],12,-40341101),a,b,x[i+14],17,-1502002290),d,a,x[i+15],22,1236535329),c=md5_gg(c,d=md5_gg(d,a=md5_gg(a,b,c,d,x[i+1],5,-165796510),b,c,x[i+6],9,-1069501632),a,b,x[i+11],14,643717713),d,a,x[i],20,-373897302),c=md5_gg(c,d=md5_gg(d,a=md5_gg(a,b,c,d,x[i+5],5,-701558691),b,c,x[i+10],9,38016083),a,b,x[i+15],14,-660478335),d,a,x[i+4],20,-405537848),c=md5_gg(c,d=md5_gg(d,a=md5_gg(a,b,c,d,x[i+9],5,568446438),b,c,x[i+14],9,-1019803690),a,b,x[i+3],14,-187363961),d,a,x[i+8],20,1163531501),c=md5_gg(c,d=md5_gg(d,a=md5_gg(a,b,c,d,x[i+13],5,-1444681467),b,c,x[i+2],9,-51403784),a,b,x[i+7],14,1735328473),d,a,x[i+12],20,-1926607734),c=md5_hh(c,d=md5_hh(d,a=md5_hh(a,b,c,d,x[i+5],4,-378558),b,c,x[i+8],11,-2022574463),a,b,x[i+11],16,1839030562),d,a,x[i+14],23,-35309556),c=md5_hh(c,d=md5_hh(d,a=md5_hh(a,b,c,d,x[i+1],4,-1530992060),b,c,x[i+4],11,1272893353),a,b,x[i+7],16,-155497632),d,a,x[i+10],23,-1094730640),c=md5_hh(c,d=md5_hh(d,a=md5_hh(a,b,c,d,x[i+13],4,681279174),b,c,x[i],11,-358537222),a,b,x[i+3],16,-722521979),d,a,x[i+6],23,76029189),c=md5_hh(c,d=md5_hh(d,a=md5_hh(a,b,c,d,x[i+9],4,-640364487),b,c,x[i+12],11,-421815835),a,b,x[i+15],16,530742520),d,a,x[i+2],23,-995338651),c=md5_ii(c,d=md5_ii(d,a=md5_ii(a,b,c,d,x[i],6,-198630844),b,c,x[i+7],10,1126891415),a,b,x[i+14],15,-1416354905),d,a,x[i+5],21,-57434055),c=md5_ii(c,d=md5_ii(d,a=md5_ii(a,b,c,d,x[i+12],6,1700485571),b,c,x[i+3],10,-1894986606),a,b,x[i+10],15,-1051523),d,a,x[i+1],21,-2054922799),c=md5_ii(c,d=md5_ii(d,a=md5_ii(a,b,c,d,x[i+8],6,1873313359),b,c,x[i+15],10,-30611744),a,b,x[i+6],15,-1560198380),d,a,x[i+13],21,1309151649),c=md5_ii(c,d=md5_ii(d,a=md5_ii(a,b,c,d,x[i+4],6,-145523070),b,c,x[i+11],10,-1120210379),a,b,x[i+2],15,718787259),d,a,x[i+9],21,-343485551),a=safe_add(a,olda),b=safe_add(b,oldb),c=safe_add(c,oldc),d=safe_add(d,oldd);return[a,b,c,d]}function binl2rstr(input){var i,output="";for(i=0;i<32*input.length;i+=8)output+=String.fromCharCode(input[i>>5]>>>i%32&255);return output}function rstr2binl(input){var i,output=[];for(output[(input.length>>2)-1]=void 0,i=0;i<output.length;i+=1)output[i]=0;for(i=0;i<8*input.length;i+=8)output[i>>5]|=(255&input.charCodeAt(i/8))<<i%32;return output}function rstr2hex(input){var x,i,output="";for(i=0;i<input.length;i+=1)x=input.charCodeAt(i),output+="0123456789abcdef".charAt(x>>>4&15)+"0123456789abcdef".charAt(15&x);return output}function str2rstr_utf8(input){return unescape(encodeURIComponent(input))}function raw_md5(s){return function(s){return binl2rstr(binl_md5(rstr2binl(s),8*s.length))}(str2rstr_utf8(s))}function raw_hmac_md5(k,d){return function(key,data){var i,hash,bkey=rstr2binl(key),ipad=[],opad=[];for(ipad[15]=opad[15]=void 0,16<bkey.length&&(bkey=binl_md5(bkey,8*key.length)),i=0;i<16;i+=1)ipad[i]=909522486^bkey[i],opad[i]=1549556828^bkey[i];return hash=binl_md5(ipad.concat(rstr2binl(data)),512+8*data.length),binl2rstr(binl_md5(opad.concat(hash),640))}(str2rstr_utf8(k),str2rstr_utf8(d))}function md5(string,key,raw){return key?raw?raw_hmac_md5(key,string):rstr2hex(raw_hmac_md5(key,string)):raw?raw_md5(string):rstr2hex(raw_md5(string))}function hbmd5(string,key,raw){return md5(string+"hello, moto",key,raw)}"function"==typeof define?define("static/t1/dist/script/module_md5",[],function(){return{md5:md5,hbmd5:hbmd5}}):($.md5=md5,$.hbmd5=hbmd5)}(this),define("static/t1/dist/script/module_table",["static/t1/dist/script/module_swal","static/t1/dist/script/module_core","static/t1/dist/script/module_ajax","static/t1/dist/script/module_effect","static/t1/dist/script/module_utils"],function(require,exports,module){var swal=require("static/t1/dist/script/module_swal"),core=require("static/t1/dist/script/module_core");module.exports={getIdSelects:function(table){return $.map(table.bootstrapTable("getSelections"),function(row){return row.id})},refresh:function(table){table.bootstrapTable("refresh")},initTable:function(table,conf){var _default={toggle:"table",showRefresh:!1,showExport:!1,minimumCountColumns:"2",pagination:!0,pageList:"[10, 25, 50, 100, ALL]",showFooter:!1,sidePagination:"server",queryParams:function(params){var params={page:params.page,pageSize:params.pageSize,sortName:params.sort,sortOrder:params.order};return $(".paramsPanel").find("input[name]").each(function(){params[$(this).attr("name")]=$(this).val()}),$(".paramsPanel").find("select[name]").each(function(){params[$(this).attr("name")]=$(this).val()}),params},url:"",removeCallBack:function(_option){var op=_option||{};core.remove({url:op.url,data:{ids:op.ids},type:"POST"}).then(function(data){var successList=data.data;if(data.success){for(var id in successList);$table.bootstrapTable("refresh"),swal.swalBase(data.msg,"","success")}})},callBack:null,removeUrl:""},$table=table,$remove=$("button.remove"),$search=$(".search"),_conf=$.extend(_default,conf);$search.click(function(){$table.bootstrapTable("refresh")}),$table.on("check.bs.table uncheck.bs.table check-all.bs.table uncheck-all.bs.table",function(){$remove.prop("disabled",!$table.bootstrapTable("getSelections").length),$(".btn-disable").prop("disabled",!$table.bootstrapTable("getSelections").length)}),$table.on("load-success.bs.table",function(e,arg1,arg2){}),$remove.on("click",function(){var ids=$.map($table.bootstrapTable("getSelections"),function(row){return row.id});0<ids.length?swal.swalConfirm("确认删除吗?","","确认删除",function(){_conf.removeCallBack({ids:ids,url:_conf.removeUrl}),$remove.prop("disabled",!0)}):swal.swalError("请选择删除项","")}),$table.bootstrapTable(_conf)}}}),define("static/t1/dist/script/module_swal",[],function(require,exports,module){exports.swalBase=function(title,text,state){swal({title:title,text:text,type:void 0===state?"":state})},exports.swalSuccess=function(title,text,callback){swal({title:title,text:text,type:"success"},callback)},exports.swalError=function(title,text){swal({title:title,text:text,type:"error"})},exports.swalWarning=function(title,text){swal({title:title,text:text,type:"warning"})},exports.swalConfirm=function(title,text,confirmButtonText,callback){swal({title:void 0===title?"确认该操作吗?":title,text:void 0===text?"":text,type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:void 0===confirmButtonText?"确认":confirmButtonText,closeOnConfirm:!1},callback)}}),define("static/t1/dist/script/module_core",["static/t1/dist/script/module_ajax","static/t1/dist/script/module_effect","static/t1/dist/script/module_utils"],function(require,exports,module){var A=require("static/t1/dist/script/module_ajax"),E=require("static/t1/dist/script/module_effect"),U=require("static/t1/dist/script/module_utils");function error(data){if(null!=data&&(data.code="401.1")){E.toastr({title:"3秒后跳转到登录页...",content:data.msg}),setTimeout(function(){window.location.href=data.data},3e3)}}exports.loadPage=function(options,fn){var op=options||{};$(op.container).html(op.loading).load(op.loadUrl,function(response,status,xhr){response.startsWith("{")&&error(JSON.parse(response)),op.callBack&&(options.data?op.callBack(options.data):op.callBack()),fn&&fn()})},exports.save=function(options){var op=options||{};return new A({url:op.url,data:op.data,type:"POST",datatype:op.datatype,processData:op.processData,contentType:op.contentType},function(data){switch(data.code){case"loading":$("#"+op.msg).html("加载中...");break;case"error":error(data.data);break;case"success":$("#"+op.msg).html("")}})},exports.remove=function(options){var op=options||{};return new A({url:op.url,data:op.data,type:op.type},function(data){switch(data.code){case"loading":$("#"+op.msg).html("删除中...");break;case"error":error(data.data);break;case"success":$("#"+op.msg).html("")}})},exports.list=function(options){var op=options||{};return new A({url:op.url,data:op.data,type:op.type},function(data){switch(data.code){case"loading":$("#"+op.msg).html("加载中...");break;case"error":error(data.data);break;case"success":$("#"+op.msg).html("")}})},exports.get=function(options){var op=options||{};return new A({url:op.url,data:op.data,type:"GET"},function(data){switch(data.code){case"loading":$("#"+op.msg).html("加载中...");break;case"error":error(data.data);break;case"success":$("#"+op.msg).html("")}})},exports.post=function(options){var op=options||{};return new A({url:op.url,data:op.data,type:"POST"},function(data){switch(data.code){case"loading":$("#"+op.msg).html("加载中...");break;case"error":error(data.data);break;case"success":$("#"+op.msg).html("")}})},exports.hasPermission=function(permission){return U.strContains(Global.perm,permission)},exports.isLogin=function(){return!$.isEmptyObject(GLOBAL.user)}}),function(){var HbAjax=function(options,callback){var _op=options||{},_url=_op.url?_op.url:"/account/ajax.do",_data=_op.data||{},_type=_op.type||"GET",_processData=!_op.processData||_op.processData,_contentType=_op.contentType?_op.contentType:"application/x-www-form-urlencoded",_datatype=_op.datatype?_op.datatype:"",_jsonp=_op.jsonp?_op.jsonp:"",_jsonpc=_op.jsonpcallback?_op.jsonpcallback:"",_location=window.location;_location.pathname,_location.search;return $.ajax({headers:{Accept:"application/json; charset=utf-8"},url:_url,type:_type,data:_data,dataType:_datatype,jsonp:_jsonp,jsonpCallback:_jsonpc,processData:_processData,contentType:_contentType,beforeSend:function(){callback&&callback({code:"loading",msg:"loading"})},success:function(data){"401.1"==data.code||"401.2"==data.code?callback&&callback({code:"error",msg:"操作异常",data:data}):callback&&callback({code:"success",msg:"success",data:data})},error:function(){callback&&callback({code:"error",msg:"网络异常"})},complete:function(xhr,ts){callback&&callback({code:"complete",xhr:xhr,ts:ts,msg:"complete"})}})};"function"==typeof define?define("static/t1/dist/script/module_ajax",[],function(){return HbAjax}):"undefined"!=typeof exports?module.exports=HbAjax:window.HbAjax=HbAjax}(),define("static/t1/dist/script/module_effect",[],function(require,exports,module){function DivSelect(id,divId,className){if(this.id=id,this.divId=divId,this.divClassName=className||"selectView",this.ele=this.$(this.id),this.ele){var that=this;for(this.status="close",this.parentObj=this.ele.parentNode;"block"!=this.readStyle(this.parentObj,"display")&&this.parentObj.parentNode;)this.parentObj=this.parentObj.parentNode;this.parentObj.style.position="relative";var temp,sp=this.absPosition(this.ele,this.parentObj);this.ele.style.visibility="hidden",this.__div=document.createElement("div"),divId&&(this.__div.id=divId),this.divClassName&&(this.__div.className=this.divClassName),this.parentObj.appendChild(this.__div),this.__div.style.width=this.ele.offsetWidth+"px",this.__div.style.position="absolute",this.__div.style.left=sp.left+"px",this.__div.style.top=sp.top+"px",this.__div.onclick=function(){that.click()},this.__div_count=document.createElement("div"),this.__div.appendChild(this.__div_count),this.__div_count.className="ds_cont",this.__div_title=document.createElement("div"),this.__div_count.appendChild(this.__div_title),this.__div_title.className="ds_title",this.__div_button=document.createElement("div"),this.__div_count.appendChild(this.__div_button),this.__div_button.className="ds_button",this.__div_list=document.createElement("div"),this.__div.appendChild(this.__div_list),this.__div_list.className="ds_list",this.__div_list.style.display="none",this.__div_listCont=document.createElement("div"),this.__div_list.appendChild(this.__div_listCont),this.__div_listCont.className="dsl_cont",this.list=[];for(var i=0;i<this.ele.options.length;i++)temp=document.createElement("p"),this.list.push(temp),this.__div_listCont.appendChild(temp),temp.innerHTML=this.ele.options[i].innerHTML,this.ele.selectedIndex==i&&(this.__div_title.innerHTML=temp.innerHTML),temp.num=i,temp.onmouseover=function(){that.showSelectIndex(this.num)},temp.onclick=function(){that.select(this.innerHTML)}}}DivSelect.prototype={showSelectIndex:function(num){void 0===num&&(num=this.ele.selectedIndex),void 0!==this.showIndex&&(this.list[this.showIndex].className=""),this.showIndex=num,this.list[this.showIndex].className="selected"},select:function(txt){for(var i=0;i<this.ele.options.length;i++)if(this.ele.options[i].innerHTML==txt){this.ele.selectedIndex=i,this.ele.onchange&&this.ele.onchange(),this.__div_title.innerHTML=txt;break}},setIndex:function(num){num<0||num>=this.list.length||(this.ele.selectedIndex=num,this.ele.onchange&&this.ele.onchange(),this.__div_title.innerHTML=this.list[num].innerHTML)},clickClose:function(e){var thisObj=e.target?e.target:event.srcElement;do{if(thisObj==this.__div)return;if("BODY"==thisObj.tagName)break;thisObj=thisObj.parentNode}while(thisObj.parentNode);this.close()},keyDown:function(e){var num=this.showIndex;38==e.keyCode&&(--num<0&&(num=this.list.length-1),this.showSelectIndex(num),this.stopDefault(e)),40==e.keyCode&&(++num>=this.list.length&&(num=0),this.showSelectIndex(num),this.stopDefault(e)),13!=e.keyCode&&9!=e.keyCode||(this.setIndex(num),this.stopDefault(e),this.close()),27==e.keyCode&&this.close()},open:function(){var that=this;this.showSelectIndex(),this.__div_list.style.display="block",this.status="open",this.__closeFn=function(e){that.clickClose(e)},this.__keyFn=function(e){that.keyDown(e)},this.addEvent(document,"click",this.__closeFn),this.addEvent(document,"keydown",this.__keyFn)},close:function(){this.__div_list.style.display="none",this.status="close",this.delEvent(document,"click",this.__closeFn),this.delEvent(document,"keydown",this.__keyFn)},click:function(){"open"==this.status?this.close():this.open()},$:function(objName){return document.getElementById?eval('document.getElementById("'+objName+'")'):eval("document.all."+objName)},addEvent:function(obj,eventType,func){obj.attachEvent?obj.attachEvent("on"+eventType,func):obj.addEventListener(eventType,func,!1)},delEvent:function(obj,eventType,func){obj.detachEvent?obj.detachEvent("on"+eventType,func):obj.removeEventListener(eventType,func,!1)},readStyle:function(i,I){return i.style[I]?i.style[I]:i.currentStyle?i.currentStyle[I]:document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(i,null).getPropertyValue(I):null},absPosition:function(obj,parentObj){var left=obj.offsetLeft,top=obj.offsetTop,tempObj=obj.offsetParent;try{for(;tempObj.id!=document.body&&tempObj.id!=document.documentElement&&tempObj!=parentObj&&null!=tempObj;)tempObj.tagName+" , ",left+=(tempObj=tempObj.offsetParent).offsetLeft,top+=tempObj.offsetTop}catch(e){}return{left:left,top:top}},stopDefault:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}},module.exports={divSelect:function(id,divId,className){new DivSelect(id,divId,className)},piechart:function(){0<jQuery(".piechart").length&&jQuery(".piechart").each(function(){var _t=jQuery(this),_size=_t.attr("data-size")||150,_animate=_t.attr("data-animate")||"3000";_t.easyPieChart({size:_size,animate:_animate,scaleColor:!1,trackColor:_t.attr("data-trackcolor")||"rgba(0,0,0,0.04)",lineWidth:_t.attr("data-width")||"2",lineCap:"square",barColor:_t.attr("data-color")||"#0093BF"}),jQuery("*",this).attr("style","line-height:"+_size+"px !important; height:"+_size+"px !important; width:"+_size+"px !important")})},countTo:function(){jQuery(".countTo").appear(function(){var _t=jQuery(this),_from=_t.attr("data-from")||0,_speed=_t.attr("data-speed")||1300,_refreshInterval=_t.attr("data-refreshInterval")||60;_t.countTo({from:parseInt(_from),to:_t.html(),speed:parseInt(_speed),refreshInterval:parseInt(_refreshInterval)})})},countDown:function(){var _container=jQuery(".countdown"),_container2=jQuery(".countdown-download");(0<_container.length||0<_container2.length)&&(_container.each(function(){var _t=jQuery(this),_date=_t.attr("data-from"),_labels=_t.attr("data-labels");if(_labels&&(_labels=_labels.split(",")),_date){var _d=new Date(_date);jQuery(this).countdown({until:new Date(_d),labels:_labels||["Years","Months","Weeks","Days","Hours","Minutes","Seconds"]})}}),_container2.bind("click",function(e){e.preventDefault();var _t=jQuery(this),cd_container=_t.attr("data-for"),_countdown=jQuery("#"+cd_container+" span.download-wait>.countdown"),_seconds=parseInt(_t.attr("data-seconds")),_dataURL=_t.attr("href");return _t.fadeOut(250,function(){jQuery("#"+cd_container).fadeIn(250,function(){var currentDate=new Date;currentDate.setSeconds(currentDate.getSeconds()+_seconds),_countdown.countdown({until:currentDate,format:"S",expiryUrl:_dataURL,onExpiry:function(){jQuery("#"+cd_container+" span.download-message").removeClass("hide"),jQuery("#"+cd_container+" span.download-wait").addClass("hide")}})})}),!1}))},toggle:function(){jQuery("div.toggle.active > p").addClass("preview-active"),jQuery("div.toggle.active > div.toggle-content").slideDown(400),jQuery("div.toggle > label").click(function(e){var parentSection=jQuery(this).parent(),parentWrapper=jQuery(this).parents("div.toggle"),previewPar=!1;if(parentWrapper.hasClass("toggle-accordion")&&void 0!==e.originalEvent&&parentWrapper.find("div.toggle.active > label").trigger("click"),parentSection.toggleClass("active"),parentSection.find("> p").get(0)){var previewParCurrentHeight=(previewPar=parentSection.find("> p")).css("height"),previewParAnimateHeight=previewPar.css("height");previewPar.css("height","auto"),previewPar.css("height",previewParCurrentHeight)}var toggleContent=parentSection.find("> div.toggle-content");parentSection.hasClass("active")?(jQuery(previewPar).animate({height:previewParAnimateHeight},350,function(){jQuery(this).addClass("preview-active")}),toggleContent.slideDown(350)):(jQuery(previewPar).animate({height:25},350,function(){jQuery(this).removeClass("preview-active")}),toggleContent.slideUp(350))})},pickers:function(callBack){var _container_1=jQuery(".datepicker");0<_container_1.length&&jQuery().datepicker&&_container_1.each(function(){var _t=jQuery(this),_lang=_t.attr("data-lang")||"en";jQuery(this).datepicker({format:_t.attr("data-format")||"yyyy-mm-dd",language:_lang,rtl:"true"==_t.attr("data-RTL"),changeMonth:"false"!=_t.attr("data-changeMonth"),todayBtn:"false"!=_t.attr("data-todayBtn")&&"linked",calendarWeeks:"false"!=_t.attr("data-calendarWeeks"),autoclose:"false"!=_t.attr("data-autoclose"),todayHighlight:"false"!=_t.attr("data-todayHighlight"),onRender:function(date){}}).on("changeDate",function(ev){}).data("datepicker")});var _container_2=jQuery(".rangepicker");0<_container_2.length&&jQuery().datepicker&&_container_2.each(function(){var _t=jQuery(this),_format=_t.attr("data-format").toUpperCase()||"YYYY-MM-DD";_t.daterangepicker({format:_format,startDate:_t.attr("data-from"),endDate:_t.attr("data-to"),ranges:{Today:[moment(),moment()],"Last 7 Days":[moment().subtract(6,"days"),moment()],"Last 30 Days":[moment().subtract(29,"days"),moment()]}},function(start,end,label){callBack&&callBack(start.format("YYYY-MM-DD"),end.format("YYYY-MM-DD"))})});var _container_3=jQuery(".timepicker");0<_container_3.length&&jQuery().timepicki&&_container_3.timepicki()},select2:function(){var _container=jQuery("select.select2");0<_container.length&&_container.each(function(){var _t=jQuery(this);_t.hasClass("select2-custom")||_t.select2()})},bgimage:function(){var _t=jQuery("section[data-background], section div[data-background]");0<_t.length&&jQuery(_t).each(function(){var _this=jQuery(this),data_background=_this.attr("data-background")||"";if(""!=data_background){var data_background_delay=_this.attr("data-background-delay")||3e3,data_background_fade=_this.attr("data-background-fade")||750,_db=data_background.split(",");(_db=data_background.replace(" ","").split(","))[1]?_this.backstretch(_db,{duration:parseInt(data_background_delay),fade:parseInt(data_background_fade)}):_this.backstretch(_db),jQuery(".bs-next",_this).bind("click",function(e){e.preventDefault(),_this.data("backstretch").next()}),jQuery(".bs-prev",_this).bind("click",function(e){e.preventDefault(),_this.data("backstretch").prev()}),jQuery(window).resize(function(){window.afterResizeBkstr&&clearTimeout(window.afterResizeBkstr),window.afterResizeBkstr=setTimeout(function(){_this.data("backstretch").next()},350)})}});var data_background=jQuery("body").attr("data-background")||"";""!=data_background&&data_background&&(jQuery.backstretch(data_background),jQuery("body").addClass("transparent"))},toastr:function(options){var _option=$.extend({title:"",content:"",type:"info",closeButton:!1,progressBar:!0,showMethod:"slideDown",positionClass:"toast-top-center",timeOut:3e3},options);"success"==(toastr.options=_option).type?toastr.success(_option.title,_option.content):"warning"==_option.type?toastr.warning(_option.title,_option.content):"error"==_option.type?toastr.error(_option.title,_option.content):"info"==_option.type&&toastr.info(_option.title,_option.content)},sliderFull:function(){_headerHeight=0,jQuery("#header").hasClass("transparent")||jQuery("#header").hasClass("translucent")?_headerHeight=0:(_headerHeight=jQuery("#header").outerHeight()||0,0<jQuery("#topBar").length&&(_topBarHeight=jQuery("#topBar").outerHeight()||0,_headerHeight+=_topBarHeight)),_screenHeight=jQuery(window).height()-_headerHeight,0<jQuery(".banner-bottom-menu").length&&(_screenHeight-=jQuery(".banner-bottom-menu").height()),jQuery("#header").hasClass("static")&&(_screenHeight=jQuery(window).height()),jQuery("#slider").hasClass("halfheight")&&jQuery("#slider.halfheight").height(_screenHeight/2),jQuery("#slider").hasClass("thirdheight")&&jQuery("#slider.thirdheight").height(_screenHeight/1.5),jQuery("#slider").hasClass("fullheight")&&(jQuery("#slider.fullheight").height(_screenHeight),jQuery("#slider.fullheight-min").css({"min-height":_screenHeight+"px"})),window.width<960&&jQuery("#slider.mobile-fullheight").height(_screenHeight)},afterResize:function(){jQuery(window).resize(function(){window.afterResizeApp&&clearTimeout(window.afterResizeApp),window.afterResizeApp=setTimeout(function(){window.width=jQuery(window).width(),window.height=jQuery(window).height(),0<jQuery(".flexslider").length&&jQuery(".flexslider").resize()},300)})}}}),define("static/t1/dist/script/module_utils",[],function(require,exports,module){module.exports={setLang:function(lang){setCookie("lang",lang),location.reload()},setCookie:function(name,value){var exp=new Date;exp.setTime(exp.getTime()+2592e6),document.cookie=name+"="+escape(value)+";path=/;expires="+exp.toGMTString()},getCookie:function(name){var arr,reg=new RegExp("(^| )"+name+"=([^;]*)(;|$)");return(arr=document.cookie.match(reg))?unescape(arr[2]):null},delCookie:function(name){var exp=new Date;exp.setTime(exp.getTime()-1);var cval=getCookie(name);null!=cval&&(document.cookie=name+"="+cval+";expires="+exp.toGMTString())},isEmail:function(str){return/\w[-\w.+]*[A-Za-z0-9]@([A-Za-z0-9][-A-Za-z0-9]+\.)+[A-Za-z]{2,14}/.test(str)},isPass:function(str){return/(?=.*[a-z])(?=.*[0-9])[A-Za-z0-9]{6,20}/.test(str)},isEmpty:function(id){return 0==$(id).val().length?($("#error").show(),$("#error_show").html(Lang.input_cant_empty),$(id).addClass("error"),!0):($("#error").hide(),$(id).removeClass("error"),!1)},response:function(data){if(null!=data.msg&&0<data.msg.length){null==data.code&&(data.code=0);var icon=1==data.success?6:2,time=data.msg.length<6?2e3:4e3;layer.msg(data.msg,{time:time,icon:icon},function(){"401.1"==data.code&&(window.location.href=data.data),null!=data.url&&0<data.url.length&&(window.location.href=data.url)})}else null!=data.url&&0<data.url.length&&(window.location.href=data.url)},isJson:function(str){try{$.parseJSON(str)}catch(e){return!1}return!0},stopDefault:function(e){e&&e.preventDefault?e.preventDefault():window.event.returnValue=!1},compare_date:function(min_time,max_time){var min_date=new Date(min_time.replace(/-/g,"/")),max_date=new Date(max_time.replace(/-/g,"/"));return max_date<min_date?-1:min_date==max_date?0:min_date<max_date?1:void 0},toUtf8:function(str){var out,i,len,c;for(out="",len=str.length,i=0;i<len;i++)1<=(c=str.charCodeAt(i))&&c<=127?out+=str.charAt(i):(2047<c?(out+=String.fromCharCode(224|c>>12&15),out+=String.fromCharCode(128|c>>6&63)):out+=String.fromCharCode(192|c>>6&31),out+=String.fromCharCode(128|c>>0&63));return out},rtrim_zero:function(number){return Number(number).toString()},formatcoin:function(number,len){return number=number.toString(),null!=len&&null!==len||(len=-1==number.indexOf(".")?0:number.slice(number.indexOf(".")+1).length),this.number_format(number,len,",",3)},number_format:function(number,bit,sign,gapnum){number=number||0,bit=isNaN(bit=Math.abs(bit))?2:bit,sign=sign||",",gapnum=gapnum||3;var decimal=".",negative=number<0?"-":"",i=parseInt(number=Math.abs(+number||0).toFixed(bit),10)+"",j=(j=i.length)>gapnum?j%gapnum:0,rule=eval("/(\\d{"+gapnum+"})(?=\\d)/g");return negative+(j?i.substr(0,j)+sign:"")+i.substr(j).replace(rule,"$1"+sign)+(bit?decimal+Math.abs(number-i).toFixed(bit).slice(2):"")},bcadd:function(a,b){return null!=a&&null!=a||(a=0),null!=b&&null!=b||(b=0),numeral(a).add(b).value()},bcsub:function(a,b){return null!=a&&null!=a||(a=0),null!=b&&null!=b||(b=0),numeral(a).subtract(b).value()},bcmul:function(a,b){return null!=a&&null!=a||(a=0),null!=b&&null!=b||(b=0),numeral(a).multiply(b).value()},bcdiv:function(a,b){return null!=a&&null!=a||(a=0),null==b||null==b?0:numeral(a).divide(b).value()},bccomp:function(a,b){return a=Number(a),(b=Number(b))<a?1:a<b?-1:0},showGoogleBlinding:function(){var index=layer.open({type:1,title:!1,shadeClose:!0,closeBtn:0,scrollbar:!1,shade:.8,area:"590px",shadeClose:!1,content:$("#google_blind_pop")});$("#google_blind_pop .closePopBt,.skipBt").on("click",function(){layer.close(index)})},input_number_decimal:function(obj,decimal){var position=$(obj).getCurPos(),number_rule=0==decimal?/[^0-9]/g:/[^0-9.]/g,amt=$.trim($(obj).val().replace(number_rule,""));if(0<=amt.indexOf(".")){var amt_decimal=amt.slice(amt.indexOf(".")+1).length;decimal<amt_decimal&&(amt=amt.substr(0,amt.length-(amt_decimal-decimal)))}$(obj).val(amt).setCurPos(position,position)},getPercent:function(a){return this.bcmul(a,100).toFixed(2)+"%"},getCeil:function(number,double){return parseInt(number*Math.pow(10,double))/Math.pow(10,double)},unFormatcoin:function(str){return str.replace(/,/g,"")},is_null:function(a){return null==a||null==a||""==a},strContains:function(str,substr){return new RegExp(substr).test(str)},replaceAll:function(str,chr,newChar){return str.replace(new RegExp(chr,"gm"),newChar)},strSubstring:function(s,l,r){var replace="",len=l||30,value=s||"",length=value.length;return length&&len<length&&(length=len,replace=r||"..."),"<span title ='"+s+"'>"+value.substring(0,length)+replace+"</span>"},timer:function(countdown,btn){var _this=btn;_this.attr("disabled","true"),_this.html(countdown+"秒后重新获取");var timer=setInterval(function(){0==countdown?(clearInterval(timer),_this.removeAttr("disabled"),_this.html("重新发送验证码")):(countdown--,_this.html(countdown+"秒后重新获取"))},1e3)},dateFormat:function(date,format){var d=new Date(date),zeroize=function(value,length){length||(length=2),value=String(value);for(var i=0,zeros="";i<length-value.length;i++)zeros+="0";return zeros+value};return format.replace(/"[^"]*"|'[^']*'|\b(?:d{1,4}|m{1,4}|yy(?:yy)?|([hHMstT])\1?|[lLZ])\b/g,function($0){switch($0){case"d":return d.getDate();case"dd":return zeroize(d.getDate());case"ddd":return["Sun","Mon","Tue","Wed","Thr","Fri","Sat"][d.getDay()];case"dddd":return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][d.getDay()];case"M":return d.getMonth()+1;case"MM":return zeroize(d.getMonth()+1);case"MMM":return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][d.getMonth()];case"MMMM":return["January","February","March","April","May","June","July","August","September","October","November","December"][d.getMonth()];case"yy":return String(d.getFullYear()).substr(2);case"yyyy":return d.getFullYear();case"h":return d.getHours()%12||12;case"hh":return zeroize(d.getHours()%12||12);case"H":return d.getHours();case"HH":return zeroize(d.getHours());case"m":return d.getMinutes();case"mm":return zeroize(d.getMinutes());case"s":return d.getSeconds();case"ss":return zeroize(d.getSeconds());case"l":return zeroize(d.getMilliseconds(),3);case"L":var m=d.getMilliseconds();return 99<m&&(m=Math.round(m/10)),zeroize(m);case"tt":return d.getHours()<12?"am":"pm";case"TT":return d.getHours()<12?"AM":"PM";case"Z":return d.toUTCString().match(/[A-Z]+$/);default:return $0.substr(1,$0.length-2)}})},getUrlParameter:function(name,parent){void 0===parent&&(parent=!1);var r,reg=new RegExp("(^|&)"+name+"=([^&]*)(&|$)");return null!=(r=parent?window.parent.location.search.substr(1).match(reg):window.location.search.substr(1).match(reg))?unescape(r[2]):null},isNotEmpty:function(str){return!!str&&(0!=str.replace(/(^s*)|(s*$)/g,"").length&&null!=str)},windowsUrlInfo:function(){return{hash:window.location.hash,host:window.location.host,hostname:window.location.hostname,href:window.location.href,pathname:window.location.pathname,port:window.location.port,protocol:window.location.protocol,search:window.location.search}},sleep:function(numberMillis){for(var now=new Date,exitTime=now.getTime()+numberMillis;;)if((now=new Date).getTime()>exitTime)return}}}),define("static/t1/dist/script/module_tpl",["static/t1/dist/script/module_utils"],function(require,exports,module){var U=require("static/t1/dist/script/module_utils");exports.render=function(options){var op=options||{};$.templates(op.tplId).link(op.renderId,op.data),$.views.helpers({formatterIcon:function(icon){if(icon.match(/^fa /))return icon.replace("fa ","")},strNewLine:function(str,chr){return null!=str?U.replaceAll(str,chr,"<br>"):""},formatDate:function(date,format){return U.dateFormat(date,format)}})}}),define("static/t1/dist/script/module_asynPage",["static/t1/dist/script/module_core","static/t1/dist/script/module_ajax","static/t1/dist/script/module_effect","static/t1/dist/script/module_utils","static/t1/dist/script/module_tpl"],function(require,exports,module){var core=require("static/t1/dist/script/module_core"),tpl=require("static/t1/dist/script/module_tpl");exports.page=function(page,pageSize,url,model_tpl,model_render,callBack,data){function initPage(pagesize,total,current){$.jqPaginator("#pagination",{totalCounts:total,visiblePages:10,pageSize:pagesize,currentPage:current,onPageChange:function(page,type){(data=data||{}).page=page,data.pageSize=pageSize,core.list({url:BASE_PATH+url,type:"POST",data:data}).then(function(data){0<data.rows.length?tpl.render({tplId:"#"+model_tpl,renderId:"#"+model_render,data:data.rows}):$("#"+model_render).html('<tr class="no-data-tr">\n                        <td colspan="100">\n                            <div class="no-data">\n                              <span th:text="#{no_data}"> 暂无数据 </span> </div>\n                        </td>\n                    </tr>')}).then(function(){callBack&&callBack()})}})}0<pageSize||(pageSize=10),(data=data||{}).page=page,data.pageSize=pageSize,core.list({url:BASE_PATH+url,type:"POST",data:data}).then(function(data){0<data.rows.length?tpl.render({tplId:"#"+model_tpl,renderId:"#"+model_render,data:data.rows}):$("#"+model_render).html('<tr class="no-data-tr">\n                        <td colspan="100">\n                            <div class="no-data">\n                              <span th:text="#{no_data}"> 暂无数据 </span> </div>\n                        </td>\n                    </tr>'),1==data.pagination.current&&initPage(data.pagination.pageSize,data.pagination.total,data.pagination.current)})}});