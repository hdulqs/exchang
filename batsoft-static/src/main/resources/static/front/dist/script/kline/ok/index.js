function getLang(key){return Lang[key]||""}require.config({baseUrl:PRE_URL+"/js/lib",config:{i18n:{locale:ok.lang}},paths:{jquery:"jquery",template:"template-web",backbone:"backbone",cookie:"jquery.cookie",DepthMerge:"../Tools/DepthMerge",Calculate:"../Tools/Calculate",Prototype:"../Tools/Prototype",tradeSliderBar:"../component/tradeSliderBar",common:"../common",websocket:"../ws/websocket",trade:"../page/market/trade",depth:"../page/market/depth",deals:"../page/market/deals",entrusts:"../page/market/entrusts",ajax:"../Tools/ajax"},shim:{cookie:{deps:["jquery"]},pagination:{deps:["jquery"]}}}),require(["i18n!../page/market/nls/lang"],function(lang){window.Lang=lang}),require(["jquery","template","backbone","common","websocket","DepthMerge","Calculate","Prototype","cookie","trade","depth","deals","entrusts","ajax"],function(){function PushFromSpot(marketString,marketFromParam,typeParam,coinVolParam,time,isLine){marketFrom=marketFromParam,type=typeParam,coinVol=coinVolParam;var newPeriodType=isLine?typeParam+"Line":typeParam;if(lastPeriodType!==newPeriodType){""!==period&&socketHolder.webSocket.stop(socketHolder.webSocket.Utils.getKline({symbol:ok.symbol,period:period})),period=type,lastPeriodType=newPeriodType,sendKline(period);var eventId="";switch(newPeriodType){case"1min":eventId="click_spot_k_1mins_charts";break;case"3min":eventId="click_spot_k_3mins_charts";break;case"5min":eventId="click_spot_k_5mins_charts";break;case"15min":eventId="click_spot_k_15mins_charts";break;case"30min":eventId="click_spot_k_30mins_charts";break;case"1hour":eventId="click_spot_k_1hour_charts";break;case"2hour":eventId="click_spot_k_2hour_charts";break;case"4hour":eventId="click_spot_k_4hour_charts";break;case"6hour":eventId="click_spot_k_6hour_charts";break;case"12hour":eventId="click_spot_k_12hour_charts";break;case"day":eventId="click_spot_k_day_charts";break;case"week":eventId="click_spot_k_week_charts"}""!==eventId&&okLog.eventLog({platform:2,eventId:eventId})}}function sendKline(period){return socketHolder.isOnline?void socketHolder.webSocket.send(socketHolder.webSocket.Utils.getKline({symbol:ok.symbol,period:period}),function(data){var kLineFrame=jQuery("#kline_iframe")[0],convertedData=getKlineData(data);kLineFrame&&kLineFrame.contentWindow&&kLineFrame.contentWindow.onPushingResponse&&kLineFrame.contentWindow.onPushingResponse(marketFrom,type,coinVol,convertedData)}):void setTimeout(function(){sendKline(period)},500)}function onDepthDataChange(data){var kLineFrame=jQuery("#kline_iframe")[0];if(kLineFrame&&kLineFrame.contentWindow&&kLineFrame.contentWindow._set_current_depth){var kdata=$.extend(!0,{},data);kLineFrame.contentWindow._set_current_depth(getKlineDepthData(kdata))}}function getKlineData(datas){for(var dataNew=[],i=0;i<datas.length;i++){var data=datas[i],tmp=[];tmp.push(Number(data.createdDate)),tmp.push(Number(data.open)),tmp.push(Number(data.high)),tmp.push(Number(data.low)),tmp.push(Number(data.close)),tmp.push(Number(data.volume)),dataNew.push(tmp)}return dataNew}function getKlineDepthData(datas){var asks=datas.asks,bids=datas.bids;asks.reverse();var i,newAsks=[],newBids=[];for(i=0;i<asks.length;i++)newAsks.push([Number(asks[i][0]),Number(asks[i][1])]);for(i=0;i<bids.length;i++)newBids.push([Number(bids[i][0]),Number(bids[i][1])]);return{asks:newAsks,bids:newBids}}function updateBaseAndTradeCurrency(){var parts=ok.symbol.split("_");ok.tradeCurrency=parts[0],ok.baseCurrency=parts[1]}function toPlainNumber(value){var e;return Math.abs(value)<1?(e=parseInt(value.toString().split("e-")[1]),e&&(value*=Math.pow(10,e-1),value="0."+new Array(e).join("0")+value.toString().substring(2))):(e=parseInt(value.toString().split("e+")[1]),e>20&&(e-=20,value/=Math.pow(10,e),value+=new Array(e+1).join("0"))),value}var ajax=require("ajax"),Backbone=require("backbone"),Calculate=(require("template"),require("Calculate")),WebSocketUtil=require("websocket"),DepthMerge=require("DepthMerge"),trade=require("trade"),depth=require("depth"),deals=require("deals"),entrusts=require("entrusts"),$=require("jquery"),marketWebSocket=new WebSocketUtil,socketHolder={isOnline:!1,webSocket:marketWebSocket};trade.init(),deals.init(),depth.init(socketHolder,onDepthDataChange),entrusts.init(socketHolder),depth.onBuyDepthClick(function(data){isLogin&&trade.updateSellFormByDepth(data)}),depth.onSellDepthClick(function(data){isLogin&&trade.updateBuyFormByDepth(data)}),window.loadTradePwdConfig=function(){ajax.getPwdConfig({success:function(data){var needPwd=data===!0;$("#isopen").val(needPwd?1:0),needPwd?($("#buyPwdWrapper").show(),$("#sellPwdWrapper").show()):($("#buyPwdWrapper").hide(),$("#sellPwdWrapper").hide())},fail:function(msg){}})},isLogin&&window.loadTradePwdConfig();var onlineSymbols=[],period="",marketFrom="",type="",coinVol=0,lastPeriodType="",shouldStopKLinePushingWhenSocketError=!0;window.PushFromSpot=PushFromSpot;var Model=Backbone.Model.extend({defaults:{tickers:{},assets:{}},sync:function(){var _this=this;if(!$.isEmptyObject(ok.productsOnlineObj)){if(ajax.getMarketTickers({success:function(data){if(data&&data.length){for(var currencyId in ok.productsOnlineObj)if(ok.productsOnlineObj.hasOwnProperty(currencyId))for(var i=0;i<data.length;i++)ok.productsOnlineObj[currencyId].toLowerCase()===data[i].symbol.toLowerCase()&&(ok.allTickersObj[ok.productsOnlineObj[currencyId]]=data[i]);isHasFetchAllTickers=!0,_this.set("tickers",ok.allTickersObj)}},fail:$.proxy(function(msg,response,xhr){_this.set("tickers",{})},this)}),ok.symbol&&(depth.ajaxLoad(ok.symbol),deals.ajaxLoad(ok.symbol)),!isLogin){$("#canUseCny").html("0.00000000"),$("#canBuyETC").html("0.00000000"),$("#canSellETC").html("0.00000000"),$("#canGetCny").html("0.00000000"),$("#entrustList").html('<li class="no-data" style="text-align:center;">'+getLang("trade_entrust_ten_yhnoo")+"</li>");var baseCurrency=ok.symbol.split("_")[1],tradeCurrency=ok.symbol.split("_")[0];return $(".base-currency").html(baseCurrency.toUpperCase()),$(".trade-currency").html(tradeCurrency.toUpperCase()),void $("#sellMarketMoney").attr("class",tradeCurrency+"-icon spot-trade-type")}ok.symbol&&entrusts.ajaxLoad(ok.symbol),ajax.getUserAccounts({success:function(data){data&&data.length&&(ok.allAssetsObj=ajax.Tools.transferAssets(data),_this.set("assets",ok.allAssetsObj))},fail:function(){_this.set("assets",{})}})}}}),isFirstSort=!0,isHasFetchAllTickers=!1,AppView=Backbone.View.extend({el:$("#main"),events:{"mouseover #mergeDepth":"showDepthBubble","mouseout #mergeDepth":"hideDepthBubble"},initialize:function(options){if(this.options=options,this.model.bind("change:tickers",this.onTickerChange,this),this.model.bind("change:assets",this.onAssetChange,this),this.render(),"undefined"!=typeof allTickerPanel){var _this=this;allTickerPanel.onCheckOneTickerCallBack(function(self,symbol){_this.clickChooseCoinType(symbol)})}},render:function(){var _this=this;ajax.getMarketProducts({success:function(data){if(data&&data.length){ok.marketsProducts={},ok.productsObj={};for(var i=0;i<data.length;i++)ok.marketsProducts[data[i].symbol]=data[i],ok.productsObj[data[i].productId]=data[i].symbol,1===data[i].online&&(ok.productsOnlineObj[data[i].productId]=data[i].symbol,onlineSymbols.push(data[i].symbol));if(!ok.symbol){var cookieSymbol=$.cookie("symbol");onlineSymbols.indexOf(cookieSymbol)===-1&&(cookieSymbol=null),ok.symbol=cookieSymbol||onlineSymbols[0],$.cookie("symbol",ok.symbol,{path:"/"}),updateBaseAndTradeCurrency(),window.depthClickAutoTrade._getDepthLevels(ok.symbol),changeBannerDepositLink(ok.symbol)}!$.isEmptyObject(ok.productsOnlineObj)&&ok.symbol&&(_this.model.fetch(),setInterval(function(){_this._getAllTickers()},2e4),_this.startWebsocket())}}})},startWebsocket:function(){var _this=this;this.webSocket=marketWebSocket,this.webSocket.addSuccCallBackFun(function(){function websockietRefreshDepth200(){_this.webSocket.stop(_this.webSocket.Utils.getDepth({symbol:ok.symbol}),function(){DepthMerge.sortPushDepthData(null,ok.symbol)}),_this.webSocket.send(_this.webSocket.Utils.getDepth({symbol:ok.symbol}),function(data){if(data.base+"_"+data.quote===ok.symbol){data=data.data;var newMergeType=$.cookie(ok.symbol+"deptMerge_stock"),d=depthDomOperate._handleData(data);d=DepthMerge.sortPushDepthData(d,ok.symbol),newMergeType&&1e-8!=newMergeType&&(d=DepthMerge.mergeDepthSize20(d,newMergeType)),d=DepthMerge.amountOverDepth001(d),_this._getMarketDepthPush(d,ok.symbol)}})}socketHolder.isOnline=!0,shouldStopKLinePushingWhenSocketError=!0,DepthMerge.sortPushDepthData(null,ok.symbol);var userId=$.cookie("coin_session_user_id");isLogin&&userId&&_this.webSocket.login(userId),_this.webSocket.send(_this.webSocket.Utils.getTicker({symbol:ok.symbol}),function(data){var symbol="";$.isPlainObject(data)?(ok.allTickersObj[data.symbol]=data,symbol=data.symbol):data[0]&&(ok.allTickersObj[data[0].symbol]=data[0],symbol=data[0].symbol);var ticker={};ticker[symbol]=ok.allTickersObj[symbol],_this.socketRefreshTicker(ticker);var arr=$.isPlainObject(data)?[data]:data[0]?data:[];bannerTicker.refreshDataSource(arr)}),isLogin&&_this.webSocket.send(_this.webSocket.Utils.getUserBalance({symbol:ok.symbol}),function(data){if(!$.isEmptyObject(data)&&!$.isEmptyObject(ok.currenciesObj)){var currencyObj=ok.currenciesObj[data.currencyId];currencyObj&&(ok.allAssetsObj[currencyObj.symbol.toLowerCase()]=$.extend(!0,{},{currency:currencyObj.symbol,sign:currencyObj.sign},data))}_this._updateTickerInfo(ok.symbol),_this._updateAssetsInfo(ok.symbol)}),websockietRefreshDepth200(),_this.webSocket.send(_this.webSocket.Utils.getDeal({symbol:ok.symbol}),function(data){deals.socketRefresh(data,ok.symbol)}),isLogin&&_this.webSocket.send(_this.webSocket.Utils.getOrder({symbol:ok.symbol}),function(data){entrusts.socketRefresh(data,ok.symbol)})}),this.webSocket.addErrCallBackFun(function(){socketHolder.isOnline=!1,DepthMerge.sortPushDepthData(null,ok.symbol),_this.model.fetch();var kLineFrame=jQuery("#kline_iframe")[0];if(shouldStopKLinePushingWhenSocketError){var canStop=kLineFrame&&kLineFrame.contentWindow&&kLineFrame.contentWindow.onPushingStop;canStop&&(kLineFrame.contentWindow.onPushingStop(),shouldStopKLinePushingWhenSocketError=!1)}bannerTicker.getTickersByApi()}),this.webSocket.connection()},onTickerChange:function(){var tickers=this.model.get("tickers");if(tickers&&!$.isEmptyObject(tickers)){for(var symbol in tickers){if(ok.symbol)break;ok.symbol=symbol,$.cookie("symbol",ok.symbol,{path:"/"}),updateBaseAndTradeCurrency()}this._updateSymbolPairList(),this._updateTickerInfo(ok.symbol),isLogin&&this._updateAssetsInfo(ok.symbol)}},onAssetChange:function(){var assets=this.model.get("assets");assets&&!$.isEmptyObject(assets)&&(this._updateTickerInfo(ok.symbol),this._updateTradeCenterView(ok.symbol),this._updateAssetsInfo(ok.symbol))},socketRefreshTicker:function(d){this._updateSymbolPairList(d),this._updateTickerInfo(ok.symbol),this._updateAssetsInfo(ok.symbol)},_updateTickerInfo:function(symbol){if(symbol){var o=ok.allTickersObj[symbol];if(!$.isEmptyObject(o)){var baseCurr=(symbol.split("_")[0].toUpperCase(),symbol.split("_")[1].toUpperCase()),lastPrice=Calculate.ShowDownTruncation(o.last,ok.priceTruncate(ok.symbol))+" "+baseCurr;document.title=lastPrice+"-"+symbol.toUpperCase().replace(/_/g,"/")+$("#titleContent").val(),o.changePercentage.indexOf("+")>=0&&(this.$el.find("#changePercentage").removeClass("red").addClass("green"),this.$el.find("#last span").removeClass("red").addClass("green"),this.$el.find("#last em").removeClass("arrow-down").addClass("arrow-up")),o.changePercentage.indexOf("-")>=0&&(this.$el.find("#changePercentage").removeClass("green").addClass("red"),this.$el.find("#last span").removeClass("green").addClass("red"),this.$el.find("#last em").removeClass("arrow-up").addClass("arrow-down"));var dayVolume=+o.volume>=10?Calculate.DownTruncation(o.volume,0):Calculate.downTruncation(o.volume,ok.amountTruncate(ok.symbol));this.$el.find("#coinType").text(ok.symbolToUpper(symbol)),this.$el.find("#last span").text(lastPrice),this.$el.find("#changePercentage").text(o.changePercentage),this.$el.find("#volume").text(dayVolume+" "+symbol.split("_")[0].toUpperCase()),this.$el.find("#24hrHigh").text(Calculate.ShowDownTruncation(o.dayHigh,ok.priceTruncate(ok.symbol))+" "+symbol.split("_")[1].toUpperCase()),this.$el.find("#24hrLow").text(Calculate.ShowDownTruncation(o.dayLow,ok.priceTruncate(ok.symbol))+" "+symbol.split("_")[1].toUpperCase()),$("#tradeLastPrice").html(Calculate.ShowDownTruncation(o.last,ok.priceTruncate(ok.symbol))),$("#nowPrice").val(o.last),$("#nowSell1").val(o.sell),$("#nowBuy1").val(o.buy),this._updateTradePriceInput(o,!1)}}},_updateTradeCenterView:function(symbol){if(symbol){var baseCurrency=symbol.split("_")[1],tradeCurrency=symbol.split("_")[0];$(".base-currency").html(baseCurrency.toUpperCase()),$(".trade-currency").html(tradeCurrency.toUpperCase()),$("#sellMarketMoney").attr("class",tradeCurrency+"-icon spot-trade-type")}},_updateTradePriceInput:function(price,isForce){var $buyPrice=$("#buyPrice"),$sellPrice=$("#sellPrice");if("true"!==$buyPrice.attr("data-init")){var buyPrice=Number($buyPrice.val()),sellPrice=Number($sellPrice.val());buyPrice||$buyPrice.val(price.sell),sellPrice||$sellPrice.val(price.buy),isForce&&($buyPrice.val(price.sell),$sellPrice.val(price.buy)),$buyPrice.attr("data-init","true")}},_updateSymbolPairList:function(data){var allTickersObj=ok.allTickersObj;if(!$.isEmptyObject(data)||!$.isEmptyObject(allTickersObj)){if("undefined"!=typeof allTickerPanel){allTickerPanel.updateTickerPanel(allTickersObj)}if(ok.symbol.indexOf("_")>-1&&isHasFetchAllTickers&&isFirstSort){isFirstSort=!1;var baseCurr=ok.symbol.split("_")[1];"undefined"!=typeof allTickerPanel&&(allTickerPanel.setMarketChk(baseCurr),allTickerPanel.setSort(!1))}}},_updateAssetsInfo:function(symbol){if(symbol){var baseCurrency=symbol.split("_")[1],tradeCurrency=symbol.split("_")[0];if(!$.isEmptyObject(ok.allAssetsObj)&&!$.isEmptyObject(ok.allAssetsObj[baseCurrency])&&!$.isEmptyObject(ok.allAssetsObj[tradeCurrency])){var baseCurrencyObj=ok.allAssetsObj[baseCurrency],tradeCurrencyObj=ok.allAssetsObj[tradeCurrency],baseCurrencyAvailable=Calculate.InputDownTruncation(baseCurrencyObj.available,ok.priceTruncate(ok.symbol)),tradeCurrencyAvailable=Calculate.InputDownTruncation(tradeCurrencyObj.available,ok.amountTruncate(ok.symbol)),priceTruncate=ok.priceTruncate(symbol),amountTruncate=ok.amountTruncate(symbol);$("#canUseCny").html(baseCurrencyObj.sign+Numbers.formatCurrency(baseCurrencyObj.available,priceTruncate)),$("#canSellETC").html(tradeCurrencyObj.sign+Numbers.formatCurrency(tradeCurrencyObj.available,priceTruncate));var nowPrice=+$("#nowPrice").val();if(nowPrice>0){var canBuy=toPlainNumber(Calculate.accDiv(baseCurrencyObj.available,nowPrice));$("#canBuyETC").html(Numbers.formatCurrency(canBuy,amountTruncate))}if(nowPrice>0){var canSell=toPlainNumber(Calculate.accMul(tradeCurrencyObj.available,nowPrice));$("#canGetCny").html(Numbers.formatCurrency(canSell,priceTruncate))}$(".banner-base-currency").html(baseCurrency.toUpperCase()),$(".banner-trade-currency").html(tradeCurrency.toUpperCase()),$("#bannerBaseCurrencyAvailable").html(Calculate.ShowDownTruncation(baseCurrencyAvailable,priceTruncate)),$("#bannerTradeCurrencyAvailable").html(Calculate.ShowDownTruncation(tradeCurrencyAvailable,amountTruncate)),$("#bannerBaseCurrencyHold").html(Calculate.ShowDownTruncation(baseCurrencyObj.hold,priceTruncate)),$("#bannerTradeCurrencyHold").html(Calculate.ShowDownTruncation(tradeCurrencyObj.hold,amountTruncate))}}},_getEntrustList:function(symbol){entrusts.ajaxLoad(symbol)},_getAllTickers:function(){var _this=this;$.isEmptyObject(ok.productsOnlineObj)||ajax.getMarketTickers({success:function(data){if(data&&data.length){for(var currencyId in ok.productsOnlineObj)if(ok.productsOnlineObj.hasOwnProperty(currencyId))for(var i=0;i<data.length;i++)ok.productsOnlineObj[currencyId].toLowerCase()===data[i].symbol.toLowerCase()&&(ok.allTickersObj[ok.productsOnlineObj[currencyId]]=data[i]);isHasFetchAllTickers=!0,_this._updateSymbolPairList(),_this._updateTickerInfo(ok.symbol);var arr=[];for(var key in ok.allTickersObj)ok.allTickersObj.hasOwnProperty(key)&&arr.push(ok.allTickersObj[key]);bannerTicker.refreshDataSource(arr)}}})},_getDealList:function(symbol){deals.ajaxLoad(symbol)},_getMarketDepth:function(symbol){depth.ajaxLoad(symbol)},_getMarketDepthPush:function(data,symbol){depth.refresh(data,symbol)},showDepthBubble:function(){this.$el.find("#depthContainer").show(),this.$el.find("#depthArrow").removeClass("arrow-down").addClass("arrow-up")},hideDepthBubble:function(){this.$el.find("#depthContainer").hide(),this.$el.find("#depthArrow").removeClass("arrow-up").addClass("arrow-down")},clickChooseCoinType:function(symbol){if(symbol&&symbol!==ok.symbol){trade.resetAllForms(),$("#buyPrice").removeAttr("data-init");var _this=this;socketHolder.isOnline?!function(oldSymbol,newSymbol){_this.webSocket.stop(_this.webSocket.Utils.getTicker({symbol:oldSymbol}),function(data){}),_this.webSocket.send(_this.webSocket.Utils.getTicker({symbol:newSymbol}),function(data){var symbol="";$.isPlainObject(data)?(ok.allTickersObj[data.symbol]=data,symbol=data.symbol):data[0]&&(ok.allTickersObj[data[0].symbol]=data[0],symbol=data[0].symbol);var ticker={};ticker[symbol]=ok.allTickersObj[symbol],_this.socketRefreshTicker(ticker);var arr=$.isPlainObject(data)?[data]:data[0]?data:[];bannerTicker.refreshDataSource(arr)}),socketHolder.webSocket.stop(socketHolder.webSocket.Utils.getKline({symbol:oldSymbol,period:period}),function(){}),socketHolder.webSocket.stop(socketHolder.webSocket.Utils.getDepth({symbol:oldSymbol}),function(data){});var newMergeType=$.cookie(oldSymbol+"deptMerge_stock");socketHolder.webSocket.send(socketHolder.webSocket.Utils.getDepth({symbol:newSymbol}),function(data){if(data.base+"_"+data.quote===newSymbol){data=data.data;var d=depthDomOperate._handleData(data);d=DepthMerge.sortPushDepthData(d,newSymbol),newMergeType&&1e-8!=newMergeType&&(d=DepthMerge.mergeDepthSize20(d,newMergeType)),d=DepthMerge.amountOverDepth001(d),_this._getMarketDepthPush(d,newSymbol)}}),_this.webSocket.stop(_this.webSocket.Utils.getDeal({symbol:oldSymbol}),function(data){}),_this.webSocket.send(_this.webSocket.Utils.getDeal({symbol:newSymbol}),function(data){deals.socketRefresh(data,newSymbol)}),isLogin&&(_this.webSocket.stop(_this.webSocket.Utils.getUserBalance({symbol:oldSymbol}),function(data){}),_this.webSocket.send(_this.webSocket.Utils.getUserBalance({symbol:newSymbol}),function(data){if(!$.isEmptyObject(data)&&!$.isEmptyObject(ok.currenciesObj)){var currencyObj=ok.currenciesObj[data.currencyId];currencyObj&&(ok.allAssetsObj[currencyObj.symbol.toLowerCase()]=$.extend(!0,{},{currency:currencyObj.symbol,sign:currencyObj.sign},data))}_this._updateTickerInfo(ok.symbol),_this._updateAssetsInfo(ok.symbol)}),socketHolder.webSocket.stop(socketHolder.webSocket.Utils.getOrder({symbol:oldSymbol}),function(data){}),socketHolder.webSocket.send(socketHolder.webSocket.Utils.getOrder({symbol:newSymbol}),function(data){entrusts.socketRefresh(data,newSymbol)}))}(ok.symbol,symbol):_this._getMarketDepth(symbol),ok.symbol=symbol,$.cookie("symbol",ok.symbol,{path:"/"}),updateBaseAndTradeCurrency(),changeBannerDepositLink(ok.symbol),period="",lastPeriodType="",$("#kline_iframe").remove(),$("#marketImageNew").prepend('<iframe id="kline_iframe" onload="iframe_onload();" style="border:0;width:100%;height:100%;" src="'+$("#mainUrl").val()+'/spot/market/kline.do"></iframe>'),isLogin&&(this._updateAssetsInfo(ok.symbol),this._getEntrustList(ok.symbol)),this._getDealList(ok.symbol),this._updateTickerInfo(ok.symbol),this._updateTradeCenterView(ok.symbol),window.depthClickAutoTrade._getDepthLevels(ok.symbol);var eventId="";switch(symbol){case"bcc_btc":eventId="click_coinselect_bcc/btc_charts";break;case"ltc_btc":eventId="click_coinselect_ltc/btc_charts";break;case"eth_btc":eventId="click_coinselect_eth/btc_charts";break;case"etc_btc":eventId="click_coinselect_etc/btc_charts"}""!==eventId&&okLog.eventLog({platform:2,eventId:eventId})}}}),model=new Model;new AppView({model:model});var common=require("common");common.init()});