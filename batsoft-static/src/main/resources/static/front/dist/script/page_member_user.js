define("static/front/dist/script/page_member_user",["./module_table","./module_swal","./module_core","./module_ajax","./module_toastr","./module_utils","./module_validator","./page_common","./module_tpl"],function(require,exports){function add(){formSubmit()}function see(){}function edit(){formSubmit()}function formSubmit(){var rules={rules:{userName:{required:!0,maxlength:50},password:{required:!0,maxlength:32},salt:{maxlength:32},realName:{required:!0,maxlength:50},userMobile:{maxlength:15},userEmail:{maxlength:20},status:{required:!0,maxlength:1,number:!0},userCardType:{maxlength:64},userCardNumber:{maxlength:30},userBirthday:{maxlength:13},userAvatar:{maxlength:255},userQq:{maxlength:100},loginNum:{maxlength:11,number:!0},loginTime:{maxlength:13},oldLoginTime:{maxlength:13},loginIp:{maxlength:20},oldLoginIp:{maxlength:20},userCardFront:{maxlength:255},userCardBack:{maxlength:255},real:{maxlength:1,number:!0}},messages:{}};mVad({forms:$(".form"),tip:".form_tip",rules:rules,postData:function(data){return data},formSubmit:function(_option,form){core.save(_option.ajaxData).then(function(data){if(data.success)swal.swalBase(data.msg,"","success");else{var errInfo="";void 0!=data.data&&(errInfo=data.data.join("")),swal.swalError(data.msg,errInfo)}_option.callback(data,form)}).fail(function(jqXHR,textStatus){swal.swalError(textStatus,jqXHR.status),_option.callback({},form)})}})}function list(){function load(id){common.loadData({url:"/member/user/user/find",data:{id:""+id},tplId:"#userTpl",renderId:"#userRender",callBack:function(){}})}function actionFormatter(){var actions=new Array,edit='<div class="pull-right btn-group tooltip-demo"><button class="btn btn-white btn-xs edit" data-toggle="tooltip" data-placement="top" title="编辑" data-original-title="编辑"><i class="fa fa-edit"></i>编辑</button>',see='<div class="pull-right btn-group tooltip-demo"><button class="btn btn-white btn-xs see" data-toggle="tooltip" data-placement="top" title="查看" data-original-title="查看"><i class="fa fa-eye"></i>查看</button>';return core.hasPermission("member:user:user:see")&&actions.push(see),core.hasPermission("member:user:user:edit")&&actions.push(edit),actions.join("")}$("button.add").on("click",function(){common.loadContent("/member/user/user/view/add")}),window.operateEvents={"click .edit":function(e,value,row,index){common.loadContent("/member/user/user/view/edit",function(){load(row.id)})},"click .see":function(e,value,row,index){common.loadContent("/member/user/user/view/see",function(){load(row.id)})}};var conf={url:"/member/user/user/list",removeUrl:"/member/user/user/remove",columns:[{field:"state",checkbox:!0},{field:"id","class":"hidde",title:"用户id"},{field:"userName",title:"用户名",sortable:!0},{field:"password",title:"登录密码",sortable:!0},{field:"salt",title:"密码盐",sortable:!0},{field:"realName",title:"真实姓名",sortable:!0},{field:"userMobile",title:"手机号",sortable:!0},{field:"userEmail",title:"邮箱",sortable:!0},{field:"status",title:"状态",sortable:!0,formatter:function(value,row,index){switch(value){case 0:return"正常";case 1:return"禁用"}}},{field:"userCardType",title:"证件类型",sortable:!0},{field:"userCardNumber",title:"证件号",sortable:!0},{field:"userQq",title:"qq",sortable:!0},{field:"loginNum",title:"登录次数",sortable:!0},{field:"real",title:"是否实名",sortable:!0,formatter:function(value,row,index){switch(value){case 0:return"未实名";case 1:return"已实名"}}},{title:"操作",events:operateEvents,formatter:actionFormatter}]};table.initTable($("#table"),conf)}var table=require("./module_table"),mVad=require("./module_validator"),swal=require("./module_swal"),common=require("./page_common"),core=require("./module_core");exports.list=list,exports.add=add,exports.edit=edit,exports.see=see}),define("static/front/dist/script/module_table",["static/front/dist/script/module_swal","static/front/dist/script/module_core","static/front/dist/script/module_ajax","static/front/dist/script/module_toastr","static/front/dist/script/module_utils"],function(require,exports,module){var swal=require("static/front/dist/script/module_swal"),core=require("static/front/dist/script/module_core");module.exports={initTable:function(table,conf){function remove(_option){var op=_option||{};core.remove({url:op.url,data:{ids:op.ids},type:"POST"}).then(function(data){var successList=data.data;if(data.success){for(var id in successList);$table.bootstrapTable("refresh"),swal.swalBase(data.msg,"","success")}})}function getIdSelects(){return $.map($table.bootstrapTable("getSelections"),function(row){return row.id})}function queryParams(params){var params={page:params.page,pageSize:params.pageSize,sortName:params.sort,sortOrder:params.order};return $(".paramsPanel").find("input[name]").each(function(){params[$(this).attr("name")]=$(this).val()}),$(".paramsPanel").find("select[name]").each(function(){params[$(this).attr("name")]=$(this).val()}),params}var _default={toggle:"table",showRefresh:!1,showExport:!1,minimumCountColumns:"2",pagination:!0,pageList:"[10, 25, 50, 100, ALL]",showFooter:!1,sidePagination:"server",queryParams:queryParams,url:"",removeCallBack:remove,removeUrl:""},$table=table,$remove=$("button.remove"),$search=$(".search"),_conf=$.extend(_default,conf);$search.click(function(){$table.bootstrapTable("refresh")}),$table.on("check.bs.table uncheck.bs.table check-all.bs.table uncheck-all.bs.table",function(){$remove.prop("disabled",!$table.bootstrapTable("getSelections").length)}),$table.on("load-success.bs.table",function(e,arg1,arg2){}),$remove.on("click",function(){var ids=getIdSelects($table);ids.length>0?swal.swalConfirm("确认删除吗?","","确认删除",function(){_conf.removeCallBack({ids:ids,url:_conf.removeUrl}),$remove.prop("disabled",!0)}):swal.swalError("请选择删除项","")}),$table.bootstrapTable(_conf)}}}),define("static/front/dist/script/module_swal",[],function(require,exports,module){function swalBase(title,text,state){swal({title:title,text:text,type:void 0===state?"":state})}function swalSuccess(title,text){swal({title:title,text:text,type:"success"})}function swalError(title,text){swal({title:title,text:text,type:"error"})}function swalWarning(title,text){swal({title:title,text:text,type:"warning"})}function swalConfirm(title,text,confirmButtonText,callback){swal({title:void 0===title?"确认该操作吗?":title,text:void 0===text?"":text,type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:void 0===confirmButtonText?"确认":confirmButtonText,closeOnConfirm:!1},callback)}exports.swalBase=swalBase,exports.swalSuccess=swalSuccess,exports.swalError=swalError,exports.swalWarning=swalWarning,exports.swalConfirm=swalConfirm}),define("static/front/dist/script/module_core",["static/front/dist/script/module_ajax","static/front/dist/script/module_toastr","static/front/dist/script/module_utils"],function(require,exports,module){function hasPermission(permission){return U.strContains(Global.perm,permission)}function error(data){if(void 0!=data&&(data.code="401.1")){var timeOut=4e3;T.toastrTip(timeOut/1e3+"秒后跳转到登录页...",data.msg),setTimeout(function(){window.location.href=data.data},timeOut)}}function loadPage(options,fn){var op=options||{};$(op.container).html(op.loading).load(op.loadUrl,function(response,status,xhr){if(response.startsWith("{")){var data=JSON.parse(response);error(data)}op.callBack&&(options.data?op.callBack(options.data):op.callBack()),fn&&fn()})}function save(options){var Fn,op=options||{};return Fn=new A({url:op.url,data:op.data,type:op.type,datatype:op.datatype,processData:op.processData,contentType:op.contentType},function(data){var _code=data.code;switch(_code){case"loading":$("#"+op.msg).html("加载中...");break;case"error":error(data.data);break;case"success":$("#"+op.msg).html("")}})}function remove(options){var Fn,op=options||{};return Fn=new A({url:op.url,data:op.data,type:op.type},function(data){var _code=data.code;switch(_code){case"loading":$("#"+op.msg).html("删除中...");break;case"error":error(data.data);break;case"success":$("#"+op.msg).html("")}})}function list(options){var Fn,op=options||{};return Fn=new A({url:op.url,data:op.data,type:op.type},function(data){var _code=data.code;switch(_code){case"loading":$("#"+op.msg).html("加载中...");break;case"error":error(data.data);break;case"success":$("#"+op.msg).html("")}})}function get(options){var Fn,op=options||{};return Fn=new A({url:op.url,data:op.data,type:"GET"},function(data){var _code=data.code;switch(_code){case"loading":$("#"+op.msg).html("加载中...");break;case"error":error(data.data);break;case"success":$("#"+op.msg).html("")}})}var A=require("static/front/dist/script/module_ajax"),T=require("static/front/dist/script/module_toastr"),U=require("static/front/dist/script/module_utils");exports.loadPage=loadPage,exports.save=save,exports.remove=remove,exports.list=list,exports.get=get,exports.hasPermission=hasPermission}),function(){var HbAjax=function(options,callback){function ABeforeSend(){callback&&callback({code:"loading",msg:"loading"})}function ACallback(data){"401.1"==data.code||"401.2"==data.code?callback&&callback({code:"error",msg:"操作异常",data:data}):callback&&callback({code:"success",msg:"success",data:data})}function AError(){callback&&callback({code:"error",msg:"网络异常"})}function AComplete(xhr,ts){callback&&callback({code:"complete",xhr:xhr,ts:ts,msg:"complete"})}var _op=options||{},_url=_op.url?_op.url:"/account/ajax.do",_data=_op.data||{},_type=_op.type||"GET",_processData=!_op.processData||_op.processData,_contentType=_op.contentType?_op.contentType:"application/x-www-form-urlencoded",_datatype=_op.datatype?_op.datatype:"",_jsonp=_op.jsonp?_op.jsonp:"",_jsonpc=_op.jsonpcallback?_op.jsonpcallback:"",_location=window.location;return"/account/account.do?a=validate_all&jump_url="+_location.pathname+_location.search,$.ajax({url:_url,type:_type,data:_data,dataType:_datatype,jsonp:_jsonp,jsonpCallback:_jsonpc,processData:_processData,contentType:_contentType,beforeSend:ABeforeSend,success:ACallback,error:AError,complete:AComplete})};"function"==typeof define?define("static/front/dist/script/module_ajax",[],function(){return HbAjax}):"undefined"!=typeof exports?module.exports=HbAjax:window.HbAjax=HbAjax}(),define("static/front/dist/script/module_toastr",[],function(require,exports,module){function toastrTip(title,content,timeOut){toastr.options={closeButton:!1,progressBar:!0,showMethod:"slideDown",timeOut:timeOut},toastr.success(title,content)}exports.toastrTip=toastrTip}),define("static/front/dist/script/module_utils",[],function(require,exports,module){module.exports={strContains:function(str,substr){return new RegExp(substr).test(str)},strSubstring:function(s,l,r){var replace="",len=l?l:30,value=s?s:"",length=value.length;return length&&length>len&&(length=len,replace=r?r:"..."),"<span title ='"+s+"'>"+value.substring(0,length)+replace+"</span>"},dateFormat:function(date,format){var d=date,zeroize=function(value,length){length||(length=2),value=String(value);for(var i=0,zeros="";i<length-value.length;i++)zeros+="0";return zeros+value};return format.replace(/"[^"]*"|'[^']*'|\b(?:d{1,4}|m{1,4}|yy(?:yy)?|([hHMstT])\1?|[lLZ])\b/g,function($0){switch($0){case"d":return d.getDate();case"dd":return zeroize(d.getDate());case"ddd":return["Sun","Mon","Tue","Wed","Thr","Fri","Sat"][d.getDay()];case"dddd":return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][d.getDay()];case"M":return d.getMonth()+1;case"MM":return zeroize(d.getMonth()+1);case"MMM":return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][d.getMonth()];case"MMMM":return["January","February","March","April","May","June","July","August","September","October","November","December"][d.getMonth()];case"yy":return String(d.getFullYear()).substr(2);case"yyyy":return d.getFullYear();case"h":return d.getHours()%12||12;case"hh":return zeroize(d.getHours()%12||12);case"H":return d.getHours();case"HH":return zeroize(d.getHours());case"m":return d.getMinutes();case"mm":return zeroize(d.getMinutes());case"s":return d.getSeconds();case"ss":return zeroize(d.getSeconds());case"l":return zeroize(d.getMilliseconds(),3);case"L":var m=d.getMilliseconds();return m>99&&(m=Math.round(m/10)),zeroize(m);case"tt":return d.getHours()<12?"am":"pm";case"TT":return d.getHours()<12?"AM":"PM";case"Z":return d.toUTCString().match(/[A-Z]+$/);default:return $0.substr(1,$0.length-2)}})},windowsUrlInfo:function(){var info={hash:window.location.hash,host:window.location.host,hostname:window.location.hostname,href:window.location.href,pathname:window.location.pathname,port:window.location.port,protocol:window.location.protocol,search:window.location.search};return info}}}),function(window){var BitValidator=function(options){var load_btn=null,_default={forms:null,beforeSend:function(_form){},process:null,rules:{},beforeValidation:function(){},beforeSubmit:function(_form){var _btn=_form.find(":submit");load_btn=Ladda.create(_btn[0]),load_btn.start(),_btn.prop("disabled",!0)},formSubmit:null,callback:function(_data,_form){var _btn=_form.find(":submit");load_btn.stop(),_btn.prop("disabled",!1)},single:null,changes:null,ignoreHidden:!0,ajaxPost:!0,ajaxError:null,ajaxData:null,instant:!1,postData:null,tip:"",is_focus:!0,dataType:{}},_option=$.extend(_default,options),_form=$(options.forms),_init={fn_init:function(obj){var _submit=obj.find(":submit");_submit.prop("disabled")&&!_submit.data("disabled")&&_submit.prop("disabled",!1),_option.beforeSend&&_option.beforeSend(obj),_option.rules.errorPlacement=function(error,element){element.next().length>0?error.insertAfter(element.parent("div")):error.insertAfter(element)},obj.validate(_option.rules),obj.find(":reset").click(function(){obj.validate().resetForm()}),obj.submit(function(e){if(e.preventDefault(),_option.beforeValidation&&_option.beforeValidation($(this)),!obj.validate(_option.rules).form())return!1;var isBeforeSubmit=_option.beforeSubmit&&_option.beforeSubmit($(this));return isBeforeSubmit!==!1&&(_option.ajaxPost?(_init.fn_ajax($(this)),!1):void 0)})},fn_ajax:function(obj){var _url,_data,_method;_url=obj.attr("action"),_method=obj.attr("method")||"post",_data=_option.postData?_option.postData(obj.serializeArray()):obj.serializeArray();var _async=!0;1==obj.attr("data-async")&&(_async=!1),_option.ajaxData={data:_data,url:_url,type:_method,async:_async},_option.formSubmit(_option,obj)}};_form&&_form.length>0&&_form.each(function(){var _this=$(this);_init.fn_init(_this)})};"function"==typeof define?define("static/front/dist/script/module_validator",[],function(){return BitValidator}):"undefined"!=typeof exports?module.exports=BitValidator:window.BitValidator=BitValidator}(window),define("static/front/dist/script/page_common",["static/front/dist/script/module_ajax","static/front/dist/script/module_tpl","static/front/dist/script/module_utils","static/front/dist/script/module_core","static/front/dist/script/module_toastr"],function(require,exports,module){function loadTopMenu(options){var data=JSON.parse(GLOBAL.config.webNav),navData=[];for(i in data)0==data[i].remark1&&navData.push(data[i]);tpl.render({tplId:"#topNavTmpl",renderId:"#topMain",data:navData})}function loadUserMenu(options){var data=JSON.parse(GLOBAL.config.webNav),navData=[];for(i in data)1==data[i].remark1&&navData.push(data[i]);tpl.render({tplId:"#userNavTmpl",renderId:"#userNav",data:navData}),$("#userNav a").each(function(){$(this).removeClass("active");var href=$(this).attr("href");href==U.windowsUrlInfo().pathname&&$(this).parent().addClass("active")})}var tpl=(require("static/front/dist/script/module_ajax"),require("static/front/dist/script/module_tpl")),U=require("static/front/dist/script/module_utils");require("static/front/dist/script/module_core"),exports.loadTopMenu=loadTopMenu,exports.loadUserMenu=loadUserMenu}),define("static/front/dist/script/module_tpl",[],function(require,exports,module){function render(options){var op=options||{},tpl=$.templates(op.tplId);tpl.link(op.renderId,op.data)}exports.render=render});