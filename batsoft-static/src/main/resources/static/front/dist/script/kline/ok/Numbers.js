!function(global,undefined){"use strict";function filter(value,digits){value=String(value),value=String(value).replace(/[^0-9\.]/g,"");var illegal=isNaN(Number(value));if(illegal)return value=value.substring(0,value.length-1),filter(value,digits);if("number"==typeof digits&&value.indexOf(".")>-1){var parts=value.split(".");if(digits<1)return parts[0];parts[1].length>digits&&(parts[1]=parts[1].substring(0,digits)),value=parts.join(".")}return value}function roundUp(number,digits){return Number(number).toFixed(digits)}function roundUpDigits(number,digits){var fullAndExtraDigits=formatDigits(number,digits+1),lastDigit=fullAndExtraDigits.substring(fullAndExtraDigits.length-1);return"0"!==lastDigit&&(fullAndExtraDigits=fullAndExtraDigits.substring(0,fullAndExtraDigits.length-1)+"9"),Number(fullAndExtraDigits).toFixed(digits)}function roundDown(number,digits){return formatDigits(number,digits)}function formatCurrency(value,digits){if(value=String(value),value.indexOf(".")>-1)return digits===undefined&&(digits=getDigits(value)),formatDigits(value,digits).replace(currencyRE,"$1,");var digitsSpecified=digits!==undefined;digitsSpecified||(digits=1);var currencyString=formatDigits(value,digits).replace(currencyRE,"$1,");return digitsSpecified?currencyString:currencyString.substring(0,currencyString.lastIndexOf("."))}function formatDigits(value,digits){var realDigits=getDigits(value);if(realDigits<=digits)return Number(value).toFixed(digits);var parts=String(value).split(".");return parts[1]=parts[1].substring(0,digits),parts.join(".")}function getDigits(value){if(value=String(value),value.indexOf(".")>-1){var parts=value.split(".");return parts[1].length}return 0}function formatLegalCurrency(str){if(str)return str.replace(/[^\d\.]/g,"").replace(/(\.\d+)\..+/g,"$1")}function formatBankNumber(number){if(number)return number=number.replace(/(\d{4})(?=\d)/g,"$1 ")}var currencyRE=/(\d)(?=(\d{3})+\.)/g,numbers={filter:filter,roundUp:roundUp,roundDown:roundDown,roundUpDigits:roundUpDigits,formatDigits:formatDigits,formatCurrency:formatCurrency,formatLegalCurrency:formatLegalCurrency,formatBankNumber:formatBankNumber};"function"==typeof define?define(function(require,exports,module){module.exports=numbers}):"undefined"!=typeof exports?module.exports=numbers:"undefined"!=typeof window&&(window.Numbers=numbers)}(this);